(()=>{var e={};e.id=78,e.ids=[78],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},5922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>d.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>l,routeModule:()=>b,tree:()=>c}),a(22984),a(92352),a(35866);var r=a(23191),s=a(88716),n=a(37922),d=a.n(n),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["blog",{children:["[uuid]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,22984)),"/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,92352)),"/home/runner/work/als_next.js/als_next.js/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/page.tsx"],u="/blog/[uuid]/page",f={require:a,loadChunk:()=>Promise.resolve()},b=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/blog/[uuid]/page",pathname:"/blog/[uuid]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43570:(e,t,a)=>{let r={"752d4765be8afd326d32b304cd957453103f93d0":()=>Promise.resolve().then(a.bind(a,29484)).then(e=>e.getUserByEmail),"7be741432e134b84b50ad1a2aed0d93168d824aa":()=>Promise.resolve().then(a.bind(a,29484)).then(e=>e.getUserByUsername),ce85166cf1a23c9f2a22a49b4f82895537edcfe6:()=>Promise.resolve().then(a.bind(a,29484)).then(e=>e.signOutUser),ee535fd2e1d6ef6ab42586363f44c0cbea1161f9:()=>Promise.resolve().then(a.bind(a,29484)).then(e=>e.registerUser),fe7b3552d9555bacd46a0fcf077d7272d19fd2c8:()=>Promise.resolve().then(a.bind(a,29484)).then(e=>e.signInUser),"12bbf4efd4a2c572b0509dd0686117a98ce36d0d":()=>Promise.resolve().then(a.bind(a,94109)).then(e=>e.getBlog),"559e137cc153ac7a5eb3ebed8ad2a596dbf09639":()=>Promise.resolve().then(a.bind(a,94109)).then(e=>e.getBlogAllOfOthers),"5d733f5b1e7f6f167024c7a5205f1ada81db88c3":()=>Promise.resolve().then(a.bind(a,94109)).then(e=>e.getBlogAll),"936739e5f6c008791c806e67cad8eba829e0916b":()=>Promise.resolve().then(a.bind(a,94109)).then(e=>e.saveBlog),c4cf875c2013242d28ab6a43bdbfea236ee37587:()=>Promise.resolve().then(a.bind(a,94109)).then(e=>e.getBlogAllOfAnother)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"752d4765be8afd326d32b304cd957453103f93d0":s.bind(null,"752d4765be8afd326d32b304cd957453103f93d0"),"7be741432e134b84b50ad1a2aed0d93168d824aa":s.bind(null,"7be741432e134b84b50ad1a2aed0d93168d824aa"),ce85166cf1a23c9f2a22a49b4f82895537edcfe6:s.bind(null,"ce85166cf1a23c9f2a22a49b4f82895537edcfe6"),ee535fd2e1d6ef6ab42586363f44c0cbea1161f9:s.bind(null,"ee535fd2e1d6ef6ab42586363f44c0cbea1161f9"),fe7b3552d9555bacd46a0fcf077d7272d19fd2c8:s.bind(null,"fe7b3552d9555bacd46a0fcf077d7272d19fd2c8"),"12bbf4efd4a2c572b0509dd0686117a98ce36d0d":s.bind(null,"12bbf4efd4a2c572b0509dd0686117a98ce36d0d"),"559e137cc153ac7a5eb3ebed8ad2a596dbf09639":s.bind(null,"559e137cc153ac7a5eb3ebed8ad2a596dbf09639"),"5d733f5b1e7f6f167024c7a5205f1ada81db88c3":s.bind(null,"5d733f5b1e7f6f167024c7a5205f1ada81db88c3"),"936739e5f6c008791c806e67cad8eba829e0916b":s.bind(null,"936739e5f6c008791c806e67cad8eba829e0916b"),c4cf875c2013242d28ab6a43bdbfea236ee37587:s.bind(null,"c4cf875c2013242d28ab6a43bdbfea236ee37587")}},54442:(e,t,a)=>{Promise.resolve().then(a.bind(a,6369))},90434:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(79404),s=a.n(r)},6369:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var r=a(10326),s=a(51223),n=a(1311),d=a(41316),i=a(36780),o=a(17577),c=a(35047),l=a(74723),u=a(65825);a(15424);var f=a(46242),b=(0,f.$)("936739e5f6c008791c806e67cad8eba829e0916b");(0,f.$)("559e137cc153ac7a5eb3ebed8ad2a596dbf09639"),(0,f.$)("c4cf875c2013242d28ab6a43bdbfea236ee37587"),(0,f.$)("5d733f5b1e7f6f167024c7a5205f1ada81db88c3"),(0,f.$)("12bbf4efd4a2c572b0509dd0686117a98ce36d0d"),a(66401);var g=a(90434);function p({item:e,email:t,edit_view:a}){let f=(0,c.useSearchParams)(),[p,m]=(0,o.useState)(""),[x,h]=(0,o.useState)(a),{register:_,handleSubmit:v,formState:y,control:w,watch:j}=(0,l.cI)({}),S=t=>{if(e){let a=(0,s.$s)(e,t);if(a)return a}let a=f.get(t);if(a)return decodeURIComponent(a)},P=async a=>{"success"===(await b({...a,uuid:p,user_id:t,created_at:e?.created_at?e.created_at:new Date,updated_at:new Date})).status?u.Am.success("save blog success"):u.Am.error("save blog failed")};return r.jsx("form",{onSubmit:v(P),children:(0,r.jsxs)("div",{className:"w-full space-y-4 mb-10",children:[e&&e.user_id!==t&&r.jsx("div",{className:"flex flex-row my-1 items-start justify-start gap-4",children:r.jsx(g.default,{className:"text-blue-500 underline",target:"_blank",href:`/blog/all_of_another?user_id=${e.user_id}`,children:e.user_id})}),(!e?.user_id||e.user_id===t)&&(0,r.jsxs)("div",{className:"flex flex-row my-1 items-end justify-end gap-4",children:[r.jsx(n.A,{color:"primary",variant:"solid",size:"sm",onPress:()=>h(!x),children:x?"View":"Edit"}),x&&r.jsx(n.A,{color:"primary",variant:"solid",size:"sm",type:"submit",isLoading:y.isSubmitting,children:"Save"})]}),x?(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Y,{label:"title",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:S("title"),..._("title")}),r.jsx(i.Y,{label:"description",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:S("description"),..._("description")}),r.jsx(i.Y,{label:"content",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:S("content"),minRows:10,maxRows:999,autoComplete:"off",autoCorrect:"off",spellCheck:"false",..._("content")})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"text-3xl mx-1 leading-tight font-roboto font-bold",children:j("title",S("title"))}),r.jsx("div",{className:"MD my-1 text-xl leading-tight font-roboto indent-0 whitespace-pre-wrap break-words hyphens-auto",dangerouslySetInnerHTML:{__html:(0,s.Hp)(j("content",S("content"))||"")}}),r.jsx("div",{children:"TODO: write commentar"})]})]})})}},51223:(e,t,a)=>{"use strict";a.d(t,{$s:()=>o,Fs:()=>i,Hp:()=>c,p6:()=>d}),a(20339);var r=a(41092),s=a(66053),n=a(47463);let d=e=>{let t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),d=e.getSeconds().toString().padStart(2,"0");return`${t}-${a}-${r} ${s}:${n}:${d}`},i=()=>(0,n.Z)().replaceAll("-","");function o(e,t){return e[t]}let c=e=>r.Z.sanitize(s.TU.parse(e,{async:!1,pedantic:!1,gfm:!0}))},94109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getBlog:()=>l,getBlogAll:()=>c,getBlogAllOfAnother:()=>o,getBlogAllOfOthers:()=>i,saveBlog:()=>u});var r=a(24330);a(60166);var s=a(13538),n=a(40644),d=a(53524);async function i(e){try{let t=await s._.$queryRaw(d.Prisma.sql`SELECT * FROM blog t0 WHERE
                    t0.user_id != ${e}
                    order by created_at desc
                    `);return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function o(e){try{let t=await s._.$queryRaw(d.Prisma.sql`SELECT * FROM blog t0 WHERE
                    t0.user_id = ${e}
                    order by created_at desc
                    `);return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function c(e){try{let t=await s._.blog.findMany({where:{user_id:e},orderBy:{created_at:"desc"}});return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function l(e){try{let t=await s._.blog.findUnique({where:{uuid:e}});if(!t)return{status:"error",error:"no data found"};return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function u(e){try{e.uuid&&""!==e.uuid||(e.uuid=(0,n.Fs)());let t=await s._.blog.upsert({where:{uuid:e.uuid},create:e,update:e});return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}(0,a(40618).h)([i,o,c,l,u]),(0,r.j)("559e137cc153ac7a5eb3ebed8ad2a596dbf09639",i),(0,r.j)("c4cf875c2013242d28ab6a43bdbfea236ee37587",o),(0,r.j)("5d733f5b1e7f6f167024c7a5205f1ada81db88c3",c),(0,r.j)("12bbf4efd4a2c572b0509dd0686117a98ce36d0d",l),(0,r.j)("936739e5f6c008791c806e67cad8eba829e0916b",u)},22984:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(19510);a(71159);var s=a(68570);let n=(0,s.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/BlogForm.tsx`),{__esModule:d,$$typeof:i}=n;n.default;let o=(0,s.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/BlogForm.tsx#default`);var c=a(83862),l=a(94109);async function u({params:e,searchParams:t}){let a=await (0,c.I8)(),s=a?.user?.email||"",n="string"==typeof e.uuid&&"add"!==e.uuid?await (0,l.getBlog)(e.uuid):void 0;return r.jsx(r.Fragment,{children:n&&"success"===n.status?r.jsx(o,{item:n.data,email:s,edit_view:!1}):r.jsx(o,{email:s,edit_view:!0})})}},40644:(e,t,a)=>{"use strict";a.d(t,{Fs:()=>n,p6:()=>s,u1:()=>i,x:()=>d}),a(16725),a(40525),a(37661);var r=a(9576);let s=e=>{let t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),d=e.getSeconds().toString().padStart(2,"0");return`${t}-${a}-${r} ${s}:${n}:${d}`},n=()=>(0,r.Z)().replaceAll("-",""),d=e=>!!e.match(/^[^'"=]+$/),i=e=>{let t=0;for(t=1;t<e.length;t++)e[t]+=e[t-1];let a=Math.random()*e[e.length-1];for(t=0;t<e.length&&!(e[t]>a);t++);return t}},33159:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(66621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},66401:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,136,372,621,892,945,723,340],()=>a(5922));module.exports=r})();