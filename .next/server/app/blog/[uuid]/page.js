(()=>{var e={};e.id=3078,e.ids=[3078],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},5922:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>b,tree:()=>o}),r(22984),r(49789),r(35866);var a=r(23191),s=r(88716),n=r(37922),i=r.n(n),d=r(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let o=["",{children:["blog",{children:["[uuid]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22984)),"/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,49789)),"/home/runner/work/als_next.js/als_next.js/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/page.tsx"],u="/blog/[uuid]/page",f={require:r,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/blog/[uuid]/page",pathname:"/blog/[uuid]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},56045:(e,t,r)=>{let a={"752d4765be8afd326d32b304cd957453103f93d0":()=>Promise.resolve().then(r.bind(r,1702)).then(e=>e.getUserByEmail),"7be741432e134b84b50ad1a2aed0d93168d824aa":()=>Promise.resolve().then(r.bind(r,1702)).then(e=>e.getUserByUsername),ce85166cf1a23c9f2a22a49b4f82895537edcfe6:()=>Promise.resolve().then(r.bind(r,1702)).then(e=>e.signOutUser),ee535fd2e1d6ef6ab42586363f44c0cbea1161f9:()=>Promise.resolve().then(r.bind(r,1702)).then(e=>e.registerUser),fe7b3552d9555bacd46a0fcf077d7272d19fd2c8:()=>Promise.resolve().then(r.bind(r,1702)).then(e=>e.signInUser)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"752d4765be8afd326d32b304cd957453103f93d0":s.bind(null,"752d4765be8afd326d32b304cd957453103f93d0"),"7be741432e134b84b50ad1a2aed0d93168d824aa":s.bind(null,"7be741432e134b84b50ad1a2aed0d93168d824aa"),ce85166cf1a23c9f2a22a49b4f82895537edcfe6:s.bind(null,"ce85166cf1a23c9f2a22a49b4f82895537edcfe6"),ee535fd2e1d6ef6ab42586363f44c0cbea1161f9:s.bind(null,"ee535fd2e1d6ef6ab42586363f44c0cbea1161f9"),fe7b3552d9555bacd46a0fcf077d7272d19fd2c8:s.bind(null,"fe7b3552d9555bacd46a0fcf077d7272d19fd2c8")}},71457:(e,t,r)=>{let a={"12bbf4efd4a2c572b0509dd0686117a98ce36d0d":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlog),"559e137cc153ac7a5eb3ebed8ad2a596dbf09639":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlogAllOfOthers),"5d733f5b1e7f6f167024c7a5205f1ada81db88c3":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlogAll),"936739e5f6c008791c806e67cad8eba829e0916b":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.saveBlog),c4cf875c2013242d28ab6a43bdbfea236ee37587:()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlogAllOfAnother)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"12bbf4efd4a2c572b0509dd0686117a98ce36d0d":s.bind(null,"12bbf4efd4a2c572b0509dd0686117a98ce36d0d"),"559e137cc153ac7a5eb3ebed8ad2a596dbf09639":s.bind(null,"559e137cc153ac7a5eb3ebed8ad2a596dbf09639"),"5d733f5b1e7f6f167024c7a5205f1ada81db88c3":s.bind(null,"5d733f5b1e7f6f167024c7a5205f1ada81db88c3"),"936739e5f6c008791c806e67cad8eba829e0916b":s.bind(null,"936739e5f6c008791c806e67cad8eba829e0916b"),c4cf875c2013242d28ab6a43bdbfea236ee37587:s.bind(null,"c4cf875c2013242d28ab6a43bdbfea236ee37587")}},54442:(e,t,r)=>{Promise.resolve().then(r.bind(r,6369))},6369:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var a=r(10326),s=r(51223),n=r(1311),i=r(41316),d=r(36780),l=r(17577),o=r(35047),c=r(74723),u=r(65825);r(15424);var f=r(46242),b=(0,f.$)("936739e5f6c008791c806e67cad8eba829e0916b");(0,f.$)("559e137cc153ac7a5eb3ebed8ad2a596dbf09639"),(0,f.$)("c4cf875c2013242d28ab6a43bdbfea236ee37587"),(0,f.$)("5d733f5b1e7f6f167024c7a5205f1ada81db88c3"),(0,f.$)("12bbf4efd4a2c572b0509dd0686117a98ce36d0d"),r(66401);var g=r(90434);function p({item:e,email:t,edit_view:r}){let f=(0,o.useSearchParams)(),[p,h]=(0,l.useState)(""),[x,m]=(0,l.useState)(r),{register:v,handleSubmit:j,formState:y,control:w,watch:_}=(0,c.cI)({}),S=t=>{if(e){let r=(0,s.$s)(e,t);if(r)return r}let r=f.get(t);if(r)return decodeURIComponent(r)},P=async r=>{"success"===(await b({...r,uuid:p,user_id:t,created_at:e?.created_at?e.created_at:new Date,updated_at:new Date})).status?(u.Am.success("save blog success"),window.location.href="/blog"):u.Am.error("save blog failed")};return a.jsx("form",{onSubmit:j(P),children:(0,a.jsxs)("div",{className:"w-full space-y-4 px-2 mb-10",children:[e&&e.user_id!==t&&a.jsx("div",{className:"flex flex-row my-1 items-start justify-start gap-4",children:a.jsx(g.default,{className:"text-blue-500 underline",target:"_blank",href:`/blog/all_of_another?user_id=${e.user_id}`,children:e.user_id})}),(!e?.user_id||e.user_id===t)&&(0,a.jsxs)("div",{className:"flex flex-row my-1 items-end justify-end gap-4",children:[a.jsx(n.A,{color:"primary",variant:"solid",size:"sm",onPress:()=>m(!x),children:x?"View":"Edit"}),a.jsx(n.A,{color:"primary",variant:"solid",size:"sm",type:"submit",isLoading:y.isSubmitting,children:"Save"})]}),x?(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Y,{label:"title",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:S("title"),...v("title")}),a.jsx(d.Y,{label:"description",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:S("description"),...v("description")}),a.jsx(d.Y,{label:"content",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:S("content"),minRows:10,maxRows:999,autoComplete:"off",autoCorrect:"off",spellCheck:"false",...v("content")})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"text-3xl leading-tight font-roboto font-bold",children:_("title",S("title"))}),a.jsx("div",{className:"MD px-2 my-1 text-xl leading-tight font-roboto indent-0 whitespace-pre-wrap break-words hyphens-auto",dangerouslySetInnerHTML:{__html:(0,s.Hp)(_("content",S("content"))||"")}}),a.jsx("div",{children:"TODO: write commentar"})]})]})})}},51223:(e,t,r)=>{"use strict";r.d(t,{$s:()=>l,Fs:()=>d,Hp:()=>o,p6:()=>i}),r(20339);var a=r(41092),s=r(66053),n=r(47463);let i=e=>{let t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),i=e.getSeconds().toString().padStart(2,"0");return`${t}-${r}-${a} ${s}:${n}:${i}`},d=()=>(0,n.Z)().replaceAll("-","");function l(e,t){return e[t]}let o=e=>a.Z.sanitize(s.TU.parse(e,{async:!1,pedantic:!1,gfm:!0}))},94109:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getBlog:()=>c,getBlogAll:()=>o,getBlogAllOfAnother:()=>l,getBlogAllOfOthers:()=>d,saveBlog:()=>u});var a=r(24330);r(60166);var s=r(13538),n=r(40644),i=r(53524);async function d(e){try{let t=await s._.$queryRaw(i.Prisma.sql`SELECT * FROM blog t0 WHERE
                    t0.user_id != ${e}
                    order by created_at desc
                    `);return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function l(e){try{let t=await s._.$queryRaw(i.Prisma.sql`SELECT * FROM blog t0 WHERE
                    t0.user_id = ${e}
                    order by created_at desc
                    `);return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function o(e){try{let t=await s._.blog.findMany({where:{user_id:e},orderBy:{created_at:"desc"}});return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function c(e){try{let t=await s._.blog.findUnique({where:{uuid:e}});if(!t)return{status:"error",error:"no data found"};return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function u(e){try{e.uuid&&""!==e.uuid||(e.uuid=(0,n.Fs)());let t=await s._.blog.upsert({where:{uuid:e.uuid},create:e,update:e});return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}(0,r(40618).h)([d,l,o,c,u]),(0,a.j)("559e137cc153ac7a5eb3ebed8ad2a596dbf09639",d),(0,a.j)("c4cf875c2013242d28ab6a43bdbfea236ee37587",l),(0,a.j)("5d733f5b1e7f6f167024c7a5205f1ada81db88c3",o),(0,a.j)("12bbf4efd4a2c572b0509dd0686117a98ce36d0d",c),(0,a.j)("936739e5f6c008791c806e67cad8eba829e0916b",u)},22984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(19510);r(71159);var s=r(68570);let n=(0,s.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/BlogForm.tsx`),{__esModule:i,$$typeof:d}=n;n.default;let l=(0,s.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/BlogForm.tsx#default`);var o=r(35089),c=r(94109);async function u({params:e,searchParams:t}){let r=await (0,o.I8)(),s=r?.user?.email||"",n="string"==typeof e.uuid&&"add"!==e.uuid?await (0,c.getBlog)(e.uuid):void 0;return a.jsx(a.Fragment,{children:n&&"success"===n.status?a.jsx(l,{item:n.data,email:s,edit_view:!1}):a.jsx(l,{email:s,edit_view:!0})})}},13538:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var a=r(53524);let s=global.prisma||new a.PrismaClient({log:["query"]})},40644:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>n,p6:()=>s,u1:()=>d,x:()=>i}),r(16725),r(40525),r(37661);var a=r(9576);let s=e=>{let t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),i=e.getSeconds().toString().padStart(2,"0");return`${t}-${r}-${a} ${s}:${n}:${i}`},n=()=>(0,a.Z)().replaceAll("-",""),i=e=>!!e.match(/^[^'"=]+$/),d=e=>{let t=0;for(t=1;t<e.length;t++)e[t]+=e[t-1];let r=Math.random()*e[e.length-1];for(t=0;t<e.length&&!(e[t]>r);t++);return t}},33159:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(66621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},66401:()=>{},41316:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o});var a=r(64382),s=r(88621),n=r(17577),i=r(98349),d=r(10326),l=(0,i.Gp)((e,t)=>{let{Component:r,label:i,description:l,isClearable:o,startContent:c,endContent:u,labelPlacement:f,hasHelper:b,isOutsideLeft:g,shouldLabelBeOutside:p,errorMessage:h,isInvalid:x,getBaseProps:m,getLabelProps:v,getInputProps:j,getInnerWrapperProps:y,getInputWrapperProps:w,getMainWrapperProps:_,getHelperWrapperProps:S,getDescriptionProps:P,getErrorMessageProps:$,getClearButtonProps:q}=(0,a.G)({...e,ref:t}),M=i?(0,d.jsx)("label",{...v(),children:i}):null,R=(0,n.useMemo)(()=>o?(0,d.jsx)("button",{...q(),children:u||(0,d.jsx)(s.f,{})}):u,[o,q]),A=(0,n.useMemo)(()=>{let e=x&&h,t=e||l;return b&&t?(0,d.jsx)("div",{...S(),children:e?(0,d.jsx)("div",{...$(),children:h}):(0,d.jsx)("div",{...P(),children:l})}):null},[b,x,h,l,S,$,P]),B=(0,n.useMemo)(()=>(0,d.jsxs)("div",{...y(),children:[c,(0,d.jsx)("input",{...j()}),R]}),[c,R,j,y]),C=(0,n.useMemo)(()=>p?(0,d.jsxs)("div",{..._(),children:[(0,d.jsxs)("div",{...w(),children:[g?null:M,B]}),A]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{...w(),children:[M,B]}),A]}),[f,A,p,M,B,h,l,_,w,$,P]);return(0,d.jsxs)(r,{...m(),children:[g?M:null,C]})});l.displayName="HeroUI.Input";var o=l},36780:(e,t,r)=>{"use strict";r.d(t,{Y:()=>x});var a=r(64382),s=r(28142),n=r(98349),i=r(18982),d=r(17577);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var o=function(e,t){if("function"==typeof e){e(t);return}e.current=t};let c=function(e,t){var r=(0,d.useRef)();return(0,d.useCallback)(function(a){e.current=a,r.current&&o(r.current,null),r.current=t,t&&o(t,a)},[t])};var u=function(){},f=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],b=d.forwardRef(function(e,t){e.cacheMeasurements,e.maxRows,e.minRows;var r=e.onChange;e.onHeightChange;var a=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}(e,f);a.value;var s=c(d.useRef(null),t);return d.useRef(0),d.useRef(),d.createElement("textarea",l({},a,{onChange:void 0===r?u:r,ref:s}))}),g=r(88621),p=r(10326),h=(0,n.Gp)(({style:e,minRows:t=3,maxRows:r=8,cacheMeasurements:n=!1,disableAutosize:l=!1,onHeightChange:o,...c},u)=>{let{Component:f,label:h,description:x,startContent:m,endContent:v,hasHelper:j,shouldLabelBeOutside:y,shouldLabelBeInside:w,isInvalid:_,errorMessage:S,getBaseProps:P,getLabelProps:$,getInputProps:q,getInnerWrapperProps:M,getInputWrapperProps:R,getHelperWrapperProps:A,getDescriptionProps:B,getErrorMessageProps:C,isClearable:O,getClearButtonProps:E}=(0,a.G)({...c,ref:u,isMultiline:!0}),[H,F]=(0,d.useState)(t>1),[k,N]=(0,d.useState)(!1),U=h?(0,p.jsx)("label",{...$(),children:h}):null,G=q(),I=l?(0,p.jsx)("textarea",{...G,style:(0,i.d)(G.style,null!=e?e:{})}):(0,p.jsx)(b,{...G,cacheMeasurements:n,"data-hide-scroll":(0,s.PB)(!k),maxRows:r,minRows:t,style:(0,i.d)(G.style,null!=e?e:{}),onHeightChange:(e,a)=>{1===t&&F(e>=2*a.rowHeight),r>t&&N(e>=r*a.rowHeight),null==o||o(e,a)}}),T=(0,d.useMemo)(()=>O?(0,p.jsx)("button",{...E(),children:(0,p.jsx)(g.f,{})}):null,[O,E]),Y=(0,d.useMemo)(()=>m||v?(0,p.jsxs)("div",{...M(),children:[m,I,v]}):(0,p.jsx)("div",{...M(),children:I}),[m,G,v,M]),D=_&&S,z=D||x;return(0,p.jsxs)(f,{...P(),children:[y?U:null,(0,p.jsxs)("div",{...R(),"data-has-multiple-rows":(0,s.PB)(H),children:[w?U:null,Y,T]}),j&&z?(0,p.jsx)("div",{...A(),children:D?(0,p.jsx)("div",{...C(),children:S}):(0,p.jsx)("div",{...B(),children:x})}):null]})});h.displayName="HeroUI.Textarea";var x=h}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,2950,9588,6621,934,3656,4349,3945,4723,847],()=>r(5922));module.exports=a})();