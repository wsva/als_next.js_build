(()=>{var e={};e.id=3078,e.ids=[3078],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},5922:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>b,tree:()=>d}),r(22984),r(49789),r(35866);var a=r(23191),s=r(88716),n=r(37922),i=r.n(n),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["blog",{children:["[uuid]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22984)),"/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,49789)),"/home/runner/work/als_next.js/als_next.js/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/page.tsx"],u="/blog/[uuid]/page",f={require:r,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/blog/[uuid]/page",pathname:"/blog/[uuid]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},71457:(e,t,r)=>{let a={"12bbf4efd4a2c572b0509dd0686117a98ce36d0d":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlog),"559e137cc153ac7a5eb3ebed8ad2a596dbf09639":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlogAllOfOthers),"5d733f5b1e7f6f167024c7a5205f1ada81db88c3":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlogAll),"936739e5f6c008791c806e67cad8eba829e0916b":()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.saveBlog),c4cf875c2013242d28ab6a43bdbfea236ee37587:()=>Promise.resolve().then(r.bind(r,94109)).then(e=>e.getBlogAllOfAnother)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"12bbf4efd4a2c572b0509dd0686117a98ce36d0d":s.bind(null,"12bbf4efd4a2c572b0509dd0686117a98ce36d0d"),"559e137cc153ac7a5eb3ebed8ad2a596dbf09639":s.bind(null,"559e137cc153ac7a5eb3ebed8ad2a596dbf09639"),"5d733f5b1e7f6f167024c7a5205f1ada81db88c3":s.bind(null,"5d733f5b1e7f6f167024c7a5205f1ada81db88c3"),"936739e5f6c008791c806e67cad8eba829e0916b":s.bind(null,"936739e5f6c008791c806e67cad8eba829e0916b"),c4cf875c2013242d28ab6a43bdbfea236ee37587:s.bind(null,"c4cf875c2013242d28ab6a43bdbfea236ee37587")}},54442:(e,t,r)=>{Promise.resolve().then(r.bind(r,6369))},6369:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var a=r(10326),s=r(51223),n=r(1311),i=r(41316),l=r(36780),o=r(17577),d=r(35047),c=r(74723),u=r(65825);r(15424);var f=r(46242),b=(0,f.$)("936739e5f6c008791c806e67cad8eba829e0916b");(0,f.$)("559e137cc153ac7a5eb3ebed8ad2a596dbf09639"),(0,f.$)("c4cf875c2013242d28ab6a43bdbfea236ee37587"),(0,f.$)("5d733f5b1e7f6f167024c7a5205f1ada81db88c3"),(0,f.$)("12bbf4efd4a2c572b0509dd0686117a98ce36d0d"),r(66401);var g=r(90434);function p({item:e,email:t,edit_view:r}){let f=(0,d.useSearchParams)(),[p,x]=(0,o.useState)(""),[h,m]=(0,o.useState)(r),{register:v,handleSubmit:j,formState:y,control:_,watch:w}=(0,c.cI)({}),P=t=>{if(e){let r=(0,s.$s)(e,t);if(r)return r}let r=f.get(t);if(r)return decodeURIComponent(r)},S=async r=>{"success"===(await b({...r,uuid:p,user_id:t,created_at:e?.created_at?e.created_at:new Date,updated_at:new Date})).status?(u.Am.success("save blog success"),window.location.href="/blog"):u.Am.error("save blog failed")};return a.jsx("form",{onSubmit:j(S),children:(0,a.jsxs)("div",{className:"w-full space-y-4 px-2 mb-10",children:[e&&e.user_id!==t&&a.jsx("div",{className:"flex flex-row my-1 items-start justify-start gap-4",children:a.jsx(g.default,{className:"text-blue-500 underline",target:"_blank",href:`/blog/all_of_another?user_id=${e.user_id}`,children:e.user_id})}),(!e?.user_id||e.user_id===t)&&(0,a.jsxs)("div",{className:"flex flex-row my-1 items-end justify-end gap-4",children:[a.jsx(n.A,{color:"primary",variant:"solid",size:"sm",onPress:()=>m(!h),children:h?"View":"Edit"}),a.jsx(n.A,{color:"primary",variant:"solid",size:"sm",type:"submit",isLoading:y.isSubmitting,children:"Save"})]}),h?(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Y,{label:"title",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:P("title"),...v("title")}),a.jsx(l.Y,{label:"description",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:P("description"),...v("description")}),a.jsx(l.Y,{label:"content",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:P("content"),minRows:10,maxRows:999,autoComplete:"off",autoCorrect:"off",spellCheck:"false",...v("content")})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"text-3xl leading-tight font-roboto font-bold",children:w("title",P("title"))}),a.jsx("div",{className:"MD px-2 my-1 text-xl leading-tight font-roboto indent-0 whitespace-pre-wrap break-words hyphens-auto",dangerouslySetInnerHTML:{__html:(0,s.Hp)(w("content",P("content"))||"")}}),a.jsx("div",{children:"TODO: write commentar"})]})]})})}},51223:(e,t,r)=>{"use strict";r.d(t,{$s:()=>o,Fs:()=>l,Hp:()=>d,p6:()=>i}),r(20339);var a=r(41092),s=r(66053),n=r(47463);let i=e=>{let t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),i=e.getSeconds().toString().padStart(2,"0");return`${t}-${r}-${a} ${s}:${n}:${i}`},l=()=>(0,n.Z)().replaceAll("-","");function o(e,t){return e[t]}let d=e=>a.Z.sanitize(s.TU.parse(e,{async:!1,pedantic:!1,gfm:!0}))},94109:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getBlog:()=>c,getBlogAll:()=>d,getBlogAllOfAnother:()=>o,getBlogAllOfOthers:()=>l,saveBlog:()=>u});var a=r(24330);r(60166);var s=r(13538),n=r(40644),i=r(53524);async function l(e){try{let t=await s._.$queryRaw(i.Prisma.sql`SELECT * FROM blog t0 WHERE
                    t0.user_id != ${e}
                    order by created_at desc
                    `);return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function o(e){try{let t=await s._.$queryRaw(i.Prisma.sql`SELECT * FROM blog t0 WHERE
                    t0.user_id = ${e}
                    order by created_at desc
                    `);return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function d(e){try{let t=await s._.blog.findMany({where:{user_id:e},orderBy:{created_at:"desc"}});return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function c(e){try{let t=await s._.blog.findUnique({where:{uuid:e}});if(!t)return{status:"error",error:"no data found"};return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}async function u(e){try{e.uuid&&""!==e.uuid||(e.uuid=(0,n.Fs)());let t=await s._.blog.upsert({where:{uuid:e.uuid},create:e,update:e});return{status:"success",data:t}}catch(e){return console.log(e),{status:"error",error:e.toString()}}}(0,r(40618).h)([l,o,d,c,u]),(0,a.j)("559e137cc153ac7a5eb3ebed8ad2a596dbf09639",l),(0,a.j)("c4cf875c2013242d28ab6a43bdbfea236ee37587",o),(0,a.j)("5d733f5b1e7f6f167024c7a5205f1ada81db88c3",d),(0,a.j)("12bbf4efd4a2c572b0509dd0686117a98ce36d0d",c),(0,a.j)("936739e5f6c008791c806e67cad8eba829e0916b",u)},22984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(19510);r(71159);var s=r(68570);let n=(0,s.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/BlogForm.tsx`),{__esModule:i,$$typeof:l}=n;n.default;let o=(0,s.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/blog/[uuid]/BlogForm.tsx#default`);var d=r(35089),c=r(94109);async function u({params:e,searchParams:t}){let r=await (0,d.I8)(),s=r?.user?.email||"",n="string"==typeof e.uuid&&"add"!==e.uuid?await (0,c.getBlog)(e.uuid):void 0;return a.jsx(a.Fragment,{children:n&&"success"===n.status?a.jsx(o,{item:n.data,email:s,edit_view:!1}):a.jsx(o,{email:s,edit_view:!0})})}},66401:()=>{},41316:(e,t,r)=>{"use strict";r.d(t,{Y:()=>d});var a=r(64382),s=r(88621),n=r(17577),i=r(98349),l=r(10326),o=(0,i.Gp)((e,t)=>{let{Component:r,label:i,description:o,isClearable:d,startContent:c,endContent:u,labelPlacement:f,hasHelper:b,isOutsideLeft:g,shouldLabelBeOutside:p,errorMessage:x,isInvalid:h,getBaseProps:m,getLabelProps:v,getInputProps:j,getInnerWrapperProps:y,getInputWrapperProps:_,getMainWrapperProps:w,getHelperWrapperProps:P,getDescriptionProps:S,getErrorMessageProps:q,getClearButtonProps:M}=(0,a.G)({...e,ref:t}),R=i?(0,l.jsx)("label",{...v(),children:i}):null,$=(0,n.useMemo)(()=>d?(0,l.jsx)("button",{...M(),children:u||(0,l.jsx)(s.f,{})}):u,[d,M]),A=(0,n.useMemo)(()=>{let e=h&&x,t=e||o;return b&&t?(0,l.jsx)("div",{...P(),children:e?(0,l.jsx)("div",{...q(),children:x}):(0,l.jsx)("div",{...S(),children:o})}):null},[b,h,x,o,P,q,S]),B=(0,n.useMemo)(()=>(0,l.jsxs)("div",{...y(),children:[c,(0,l.jsx)("input",{...j()}),$]}),[c,$,j,y]),C=(0,n.useMemo)(()=>p?(0,l.jsxs)("div",{...w(),children:[(0,l.jsxs)("div",{..._(),children:[g?null:R,B]}),A]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{..._(),children:[R,B]}),A]}),[f,A,p,R,B,x,o,w,_,q,S]);return(0,l.jsxs)(r,{...m(),children:[g?R:null,C]})});o.displayName="HeroUI.Input";var d=o},36780:(e,t,r)=>{"use strict";r.d(t,{Y:()=>h});var a=r(64382),s=r(28142),n=r(98349),i=r(18982),l=r(17577);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var d=function(e,t){if("function"==typeof e){e(t);return}e.current=t};let c=function(e,t){var r=(0,l.useRef)();return(0,l.useCallback)(function(a){e.current=a,r.current&&d(r.current,null),r.current=t,t&&d(t,a)},[t])};var u=function(){},f=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],b=l.forwardRef(function(e,t){e.cacheMeasurements,e.maxRows,e.minRows;var r=e.onChange;e.onHeightChange;var a=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}(e,f);a.value;var s=c(l.useRef(null),t);return l.useRef(0),l.useRef(),l.createElement("textarea",o({},a,{onChange:void 0===r?u:r,ref:s}))}),g=r(88621),p=r(10326),x=(0,n.Gp)(({style:e,minRows:t=3,maxRows:r=8,cacheMeasurements:n=!1,disableAutosize:o=!1,onHeightChange:d,...c},u)=>{let{Component:f,label:x,description:h,startContent:m,endContent:v,hasHelper:j,shouldLabelBeOutside:y,shouldLabelBeInside:_,isInvalid:w,errorMessage:P,getBaseProps:S,getLabelProps:q,getInputProps:M,getInnerWrapperProps:R,getInputWrapperProps:$,getHelperWrapperProps:A,getDescriptionProps:B,getErrorMessageProps:C,isClearable:O,getClearButtonProps:E}=(0,a.G)({...c,ref:u,isMultiline:!0}),[H,k]=(0,l.useState)(t>1),[F,N]=(0,l.useState)(!1),G=x?(0,p.jsx)("label",{...q(),children:x}):null,I=M(),T=o?(0,p.jsx)("textarea",{...I,style:(0,i.d)(I.style,null!=e?e:{})}):(0,p.jsx)(b,{...I,cacheMeasurements:n,"data-hide-scroll":(0,s.PB)(!F),maxRows:r,minRows:t,style:(0,i.d)(I.style,null!=e?e:{}),onHeightChange:(e,a)=>{1===t&&k(e>=2*a.rowHeight),r>t&&N(e>=r*a.rowHeight),null==d||d(e,a)}}),Y=(0,l.useMemo)(()=>O?(0,p.jsx)("button",{...E(),children:(0,p.jsx)(g.f,{})}):null,[O,E]),D=(0,l.useMemo)(()=>m||v?(0,p.jsxs)("div",{...R(),children:[m,T,v]}):(0,p.jsx)("div",{...R(),children:T}),[m,I,v,R]),U=w&&P,L=U||h;return(0,p.jsxs)(f,{...S(),children:[y?G:null,(0,p.jsxs)("div",{...$(),"data-has-multiple-rows":(0,s.PB)(H),children:[_?G:null,D,Y]}),j&&L?(0,p.jsx)("div",{...A(),children:U?(0,p.jsx)("div",{...C(),children:P}):(0,p.jsx)("div",{...B(),children:h})}):null]})});x.displayName="HeroUI.Textarea";var h=x}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,2950,1167,6621,934,3656,4349,3945,783,7449],()=>r(5922));module.exports=a})();