(()=>{var e={};e.id=8226,e.ids=[8226],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},25566:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(42168),r(49789),r(35866);var s=r(23191),n=r(88716),a=r(37922),i=r.n(a),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["card",{children:["test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,42168)),"/home/runner/work/als_next.js/als_next.js/src/app/card/test/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,49789)),"/home/runner/work/als_next.js/als_next.js/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/runner/work/als_next.js/als_next.js/src/app/card/test/page.tsx"],u="/card/test/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/card/test/page",pathname:"/card/test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31330:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,25899))},25899:(e,t,r)=>{"use strict";r.d(t,{default:()=>w});var s=r(10326),n=r(53134),a=r(1311),i=r(14509),l=r(99884),o=r(70175),d=r(88336),c=r(38647),u=r(23869),x=r(36780),p=r(17577),m=r(51223),g=r(90434),f=r(61980),h=r(82816),v=r(60449),y=r(50813);r(66401);var j=r(65825),b=r(35047);function w({user_id:e,item:t,tag_uuid:r}){let[w,_]=(0,p.useState)(!1),[N,P]=(0,p.useState)(!1),[S,q]=(0,p.useState)();(0,b.useRouter)();let A=e=>y.zQ.map(e=>e.color)[e];return(0,s.jsxs)("div",{className:"flex flex-col my-5 mx-5",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-4 items-end justify-end",children:[s.jsx(a.A,{as:g.default,target:"_blank",color:"secondary",href:`/card/${t.uuid}/?edit=y`,children:"EDIT"}),s.jsx(a.A,{color:"secondary",onPress:()=>window.location.reload(),children:"NEXT"})]}),s.jsx("div",{className:"flex flex-row items-center justify-center",children:t.question.length<30?s.jsx("div",{className:"my-5 font-bold text-2xl md:text-4xl lg:text-6xl xl:text-8xl",children:s.jsx("pre",{className:"font-roboto leading-none",children:t.question})}):s.jsx("div",{className:"my-5 font-bold text-base md:text-xl lg:text-2xl xl:text-4xl",children:s.jsx("pre",{className:"font-roboto leading-none",children:t.question})})}),(0,s.jsxs)("div",{className:"flex flex-row my-5 items-center justify-center gap-4",children:[t.suggestion.length>0?s.jsx(a.A,{color:"primary",variant:"solid",onPress:()=>_(!w),children:w?"hide suggestion":"show suggestion"}):null,s.jsx(a.A,{color:"primary",variant:"solid",onPress:()=>P(!N),children:N?"hide answer":"show answer"}),s.jsx(i.g,{variant:"solid",color:"primary",children:(0,s.jsxs)(l.F,{placement:"bottom-end",children:[s.jsx(o.S,{children:(0,s.jsxs)(a.A,{children:["feedback ",s.jsx(f.QBW,{})]})}),s.jsx(d.a,{disallowEmptySelection:!0,className:"max-w-[300px]",selectionMode:"single",onSelectionChange:async r=>{if(r.currentKey){let s=parseInt(r.currentKey);"success"===(await (0,n.lq)(e,t.uuid,s)).status?window.location.reload():j.Am.error("save familiarity error")}},children:s.jsx(c.d,{items:y.zQ,children:y.zQ.map(e=>s.jsx(u.W,{description:e.description,className:`${A(e.value)}`,children:`${e.value} - ${e.label}`},e.value))})})]})})]}),w?s.jsx(x.Y,{isDisabled:!0,classNames:{input:"text-2xl leading-tight font-roboto"},defaultValue:t.suggestion}):null,N?s.jsx("div",{className:"MD my-1 text-base md:text-xl lg:text-2xl xl:text-4xl leading-tight font-roboto indent-0 whitespace-pre-wrap break-words hyphens-auto",dangerouslySetInnerHTML:{__html:(0,m.Hp)(t.answer)}}):null,N?s.jsx(x.Y,{isDisabled:!0,classNames:{input:"text-2xl leading-tight font-roboto"},defaultValue:t.note}):null,t.note.indexOf('"lemma":"')>=0&&s.jsx("div",{className:"flex flex-row gap-4 items-center justify-center",children:s.jsx(a.A,{color:"primary",onPress:async()=>{let e=t.note.match(/"lemma":"([^"]+)"/);if(e){let t=[e[1].trim()];q(await (0,v.s7)(t))}},children:"View Examples"})}),S&&"success"===S.status&&s.jsx(h.Z,{list:S.data})]})}},50813:(e,t,r)=>{"use strict";var s,n;r.d(t,{_Y:()=>a,j8:()=>i,ll:()=>l,nr:()=>o,vA:()=>s,zQ:()=>d}),function(e){e.Normal="normal",e.Easy="easy",e.Unspecified="unspecified",e.Uncomplete="uncomplete"}(s||(s={}));let a=[{value:"unspecified",description:"all"},{value:"normal",description:"familiarity < 6"},{value:"easy",description:"familiarity = 6"},{value:"uncomplete",description:"question or answer is empty"}],i="unspecified",l="all tagged",o="not tagged";!function(e){e[e.NewlyAdded=0]="NewlyAdded",e[e.StillUnfamiliar=1]="StillUnfamiliar",e[e.PassiveUnderstanding=2]="PassiveUnderstanding",e[e.RecognitionWithoutUnderstanding=3]="RecognitionWithoutUnderstanding",e[e.UnderstandingInContext=4]="UnderstandingInContext",e[e.ActiveRecall=5]="ActiveRecall",e[e.NaturalUsage=6]="NaturalUsage"}(n||(n={}));let d=[{value:0,description:"Newly Added",label:"newly added",color:"bg-slate-200"},{value:1,description:"Still Unfamiliar",label:"strange",color:"bg-red-200"},{value:2,description:"Passive Understanding",label:"known",color:"bg-orange-200"},{value:3,description:"Recognition Without Understanding",label:"familiar",color:"bg-amber-200"},{value:4,description:"Understanding in Context",label:"skilled",color:"bg-cyan-200"},{value:5,description:"Active Recall",label:"practiced",color:"bg-green-200"},{value:6,description:"Natural Usage",label:"easy & never appear again",color:"bg-lime-200"}]},51223:(e,t,r)=>{"use strict";r.d(t,{$s:()=>o,Fs:()=>l,Hp:()=>d,p6:()=>i}),r(20339);var s=r(41092),n=r(66053),a=r(47463);let i=e=>{let t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0"),n=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0"),i=e.getSeconds().toString().padStart(2,"0");return`${t}-${r}-${s} ${n}:${a}:${i}`},l=()=>(0,a.Z)().replaceAll("-","");function o(e,t){return e[t]}let d=e=>s.Z.sanitize(n.TU.parse(e,{async:!1,pedantic:!1,gfm:!0}))},57371:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(670),n=r.n(s)},670:(e,t,r)=>{"use strict";let{createProxy:s}=r(68570);e.exports=s("/home/runner/work/als_next.js/als_next.js/node_modules/next/dist/client/link.js")},42168:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(19510),n=r(15316),a=r(35089);r(71159);var i=r(68570);let l=(0,i.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/card/test/TestForm.tsx`),{__esModule:o,$$typeof:d}=l;l.default;let c=(0,i.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/card/test/TestForm.tsx#default`);var u=r(57371);async function x({params:e,searchParams:t}){let r=await (0,a.I8)(),i=r?.user?.email||"",l="string"==typeof t.tag?t.tag:"",o=[];if(!l){let e=await (0,n.getTagAll)(i);"success"===e.status&&(o=e.data)}let d="string"==typeof t.uuid?t.uuid:"",x=l?d?await (0,n.getCard)(d):await (0,n.getCardTest)(i,l):void 0;return s.jsx(s.Fragment,{children:l?x?.status==="success"?s.jsx(c,{user_id:i,item:x.data,tag_uuid:l}):s.jsx("div",{className:"text-2xl",children:"no card for test"}):(0,s.jsxs)("div",{className:"flex flex-col items-start justify-center my-4",children:[s.jsx("div",{className:"text-2xl",children:"Select a tag as the scope"}),o.map(e=>(0,s.jsxs)(u.default,{target:"_blank",className:"flex m-4 text-2xl font-bold text-blue-600 hover:underline",href:`/card/test?tag=${e.uuid}`,children:[e.tag," ",e.description?`(${e.description})`:""]},e.uuid))]})})}},66401:()=>{},854:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var s=r(17577);function n(e){return null}n.getCollectionNode=function*(e){let{children:t,title:r,items:n}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof t){if(!n)throw Error("props.children was a function but props.items is missing");for(let e of n)yield{type:"item",value:e,renderer:t}}else{let e=[];s.Children.forEach(t,t=>{e.push({type:"item",element:t})}),yield*e}}}};let a=n},14509:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});var s=r(82416),n=r(33657),a=r(98349),i=r(10326),l=(0,a.Gp)((e,t)=>{let{Component:r,domRef:a,context:l,children:o,classNames:d,getButtonGroupProps:c}=(0,s.i)({...e,ref:t});return(0,i.jsx)(n.D,{value:l,children:(0,i.jsx)(r,{ref:a,className:d,...c(),children:o})})});l.displayName="HeroUI.ButtonGroup";var o=l},82416:(e,t,r)=>{"use strict";r.d(t,{i:()=>d});var s=r(4601),n=r(19747),a=r(98349),i=r(58435),l=r(17577),o=r(92256);function d(e){var t,r;let d=(0,n.w)(),[c,u]=(0,a.oe)(e,s.D.variantKeys),{ref:x,as:p,children:m,color:g="default",size:f="md",variant:h="solid",radius:v,isDisabled:y=!1,isIconOnly:j=!1,disableRipple:b=null!=(t=null==d?void 0:d.disableRipple)&&t,disableAnimation:w=null!=(r=null==d?void 0:d.disableAnimation)&&r,className:_,...N}=c,P=(0,i.gy)(x),S=(0,l.useMemo)(()=>(0,s.D)({...u,className:_}),[(0,o.Xx)(u),_]);return{Component:p||"div",children:m,domRef:P,context:(0,l.useMemo)(()=>({size:f,color:g,variant:h,radius:v,isIconOnly:j,isDisabled:y,disableAnimation:w,disableRipple:b,fullWidth:!!(null==e?void 0:e.fullWidth)}),[f,g,h,v,y,j,w,b,null==e?void 0:e.fullWidth]),classNames:S,getButtonGroupProps:(0,l.useCallback)(()=>({role:"group",...N}),[N])}}},36780:(e,t,r)=>{"use strict";r.d(t,{Y:()=>h});var s=r(64382),n=r(28142),a=r(98349),i=r(18982),l=r(17577);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(null,arguments)}var d=function(e,t){if("function"==typeof e){e(t);return}e.current=t};let c=function(e,t){var r=(0,l.useRef)();return(0,l.useCallback)(function(s){e.current=s,r.current&&d(r.current,null),r.current=t,t&&d(t,s)},[t])};var u=function(){},x=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],p=l.forwardRef(function(e,t){e.cacheMeasurements,e.maxRows,e.minRows;var r=e.onChange;e.onHeightChange;var s=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}(e,x);s.value;var n=c(l.useRef(null),t);return l.useRef(0),l.useRef(),l.createElement("textarea",o({},s,{onChange:void 0===r?u:r,ref:n}))}),m=r(88621),g=r(10326),f=(0,a.Gp)(({style:e,minRows:t=3,maxRows:r=8,cacheMeasurements:a=!1,disableAutosize:o=!1,onHeightChange:d,...c},u)=>{let{Component:x,label:f,description:h,startContent:v,endContent:y,hasHelper:j,shouldLabelBeOutside:b,shouldLabelBeInside:w,isInvalid:_,errorMessage:N,getBaseProps:P,getLabelProps:S,getInputProps:q,getInnerWrapperProps:A,getInputWrapperProps:C,getHelperWrapperProps:U,getDescriptionProps:k,getErrorMessageProps:R,isClearable:M,getClearButtonProps:$}=(0,s.G)({...c,ref:u,isMultiline:!0}),[E,G]=(0,l.useState)(t>1),[H,T]=(0,l.useState)(!1),D=f?(0,g.jsx)("label",{...S(),children:f}):null,I=q(),W=o?(0,g.jsx)("textarea",{...I,style:(0,i.d)(I.style,null!=e?e:{})}):(0,g.jsx)(p,{...I,cacheMeasurements:a,"data-hide-scroll":(0,n.PB)(!H),maxRows:r,minRows:t,style:(0,i.d)(I.style,null!=e?e:{}),onHeightChange:(e,s)=>{1===t&&G(e>=2*s.rowHeight),r>t&&T(e>=r*s.rowHeight),null==d||d(e,s)}}),F=(0,l.useMemo)(()=>M?(0,g.jsx)("button",{...$(),children:(0,g.jsx)(m.f,{})}):null,[M,$]),O=(0,l.useMemo)(()=>v||y?(0,g.jsxs)("div",{...A(),children:[v,W,y]}):(0,g.jsx)("div",{...A(),children:W}),[v,I,y,A]),z=_&&N,B=z||h;return(0,g.jsxs)(x,{...P(),children:[b?D:null,(0,g.jsxs)("div",{...C(),"data-has-multiple-rows":(0,n.PB)(E),children:[w?D:null,O,F]}),j&&B?(0,g.jsx)("div",{...U(),children:z?(0,g.jsx)("div",{...R(),children:N}):(0,g.jsx)("div",{...k(),children:h})}):null]})});f.displayName="HeroUI.Textarea";var h=f},38647:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var s=r(854).$}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,2950,9588,6621,934,3656,4349,3945,1980,6636,847,1200,5020],()=>r(25566));module.exports=s})();