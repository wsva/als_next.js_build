(()=>{var e={};e.id=226,e.ids=[226],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},25566:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>r.a,__next_app__:()=>b,originalPathname:()=>f,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(42168),t(92352),t(35866);var d=t(23191),n=t(88716),s=t(37922),r=t.n(s),i=t(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(a,l);let c=["",{children:["card",{children:["test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,42168)),"/home/runner/work/als_next.js/als_next.js/src/app/card/test/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,92352)),"/home/runner/work/als_next.js/als_next.js/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,33159))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/home/runner/work/als_next.js/als_next.js/src/app/card/test/page.tsx"],f="/card/test/page",b={require:t,loadChunk:()=>Promise.resolve()},u=new d.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/card/test/page",pathname:"/card/test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55253:(e,a,t)=>{let d={"0032af294b820d5b2f6ecb599810073224fb8405":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.getCardTest),"2c8f731e7c04d6b71f833304321e741fa16aeefd":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.saveCard),"32a3617889b58b88de5846c96efc11d8a1322d4a":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.saveTag),"40b0e9a5fae5e29abe9213bb007d11cec6f7e31f":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.getCard),"479742cc8645e1909d54f38cd9fe015e9621ab60":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.removeCard),"50b8ee2c01702d556b77028eb169eaff9ea0f820":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.getCardsOfMy),"523b5dd287e6725b6f91274aca1051653bfdf0e6":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.removeTag),"59141756fe4b901c2b6407bb9725bab62d2967e1":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.createTag),"651d629a9efc5ac1f2e83ecc837477b8129dac19":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.getTagAll),"6d2e69b109044da9a0608b4844be959036b9b175":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.setCardFamiliarity),"92a63b1efc916ff008d1272dc5a65580af78af67":()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.getCardsOfOthers),ae2756021412af3c7533170046625d9bfe173ca7:()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.saveCardTag),b9098ba02eb30e332c60e216b96eda5868da288a:()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.getTag),fbde93d90dfb682967795128b2ca856ab81d14aa:()=>Promise.resolve().then(t.bind(t,15316)).then(e=>e.getCardTag),"752d4765be8afd326d32b304cd957453103f93d0":()=>Promise.resolve().then(t.bind(t,29484)).then(e=>e.getUserByEmail),"7be741432e134b84b50ad1a2aed0d93168d824aa":()=>Promise.resolve().then(t.bind(t,29484)).then(e=>e.getUserByUsername),ce85166cf1a23c9f2a22a49b4f82895537edcfe6:()=>Promise.resolve().then(t.bind(t,29484)).then(e=>e.signOutUser),ee535fd2e1d6ef6ab42586363f44c0cbea1161f9:()=>Promise.resolve().then(t.bind(t,29484)).then(e=>e.registerUser),fe7b3552d9555bacd46a0fcf077d7272d19fd2c8:()=>Promise.resolve().then(t.bind(t,29484)).then(e=>e.signInUser)};async function n(e,...a){return(await d[e]()).apply(null,a)}e.exports={"0032af294b820d5b2f6ecb599810073224fb8405":n.bind(null,"0032af294b820d5b2f6ecb599810073224fb8405"),"2c8f731e7c04d6b71f833304321e741fa16aeefd":n.bind(null,"2c8f731e7c04d6b71f833304321e741fa16aeefd"),"32a3617889b58b88de5846c96efc11d8a1322d4a":n.bind(null,"32a3617889b58b88de5846c96efc11d8a1322d4a"),"40b0e9a5fae5e29abe9213bb007d11cec6f7e31f":n.bind(null,"40b0e9a5fae5e29abe9213bb007d11cec6f7e31f"),"479742cc8645e1909d54f38cd9fe015e9621ab60":n.bind(null,"479742cc8645e1909d54f38cd9fe015e9621ab60"),"50b8ee2c01702d556b77028eb169eaff9ea0f820":n.bind(null,"50b8ee2c01702d556b77028eb169eaff9ea0f820"),"523b5dd287e6725b6f91274aca1051653bfdf0e6":n.bind(null,"523b5dd287e6725b6f91274aca1051653bfdf0e6"),"59141756fe4b901c2b6407bb9725bab62d2967e1":n.bind(null,"59141756fe4b901c2b6407bb9725bab62d2967e1"),"651d629a9efc5ac1f2e83ecc837477b8129dac19":n.bind(null,"651d629a9efc5ac1f2e83ecc837477b8129dac19"),"6d2e69b109044da9a0608b4844be959036b9b175":n.bind(null,"6d2e69b109044da9a0608b4844be959036b9b175"),"92a63b1efc916ff008d1272dc5a65580af78af67":n.bind(null,"92a63b1efc916ff008d1272dc5a65580af78af67"),ae2756021412af3c7533170046625d9bfe173ca7:n.bind(null,"ae2756021412af3c7533170046625d9bfe173ca7"),b9098ba02eb30e332c60e216b96eda5868da288a:n.bind(null,"b9098ba02eb30e332c60e216b96eda5868da288a"),fbde93d90dfb682967795128b2ca856ab81d14aa:n.bind(null,"fbde93d90dfb682967795128b2ca856ab81d14aa"),"752d4765be8afd326d32b304cd957453103f93d0":n.bind(null,"752d4765be8afd326d32b304cd957453103f93d0"),"7be741432e134b84b50ad1a2aed0d93168d824aa":n.bind(null,"7be741432e134b84b50ad1a2aed0d93168d824aa"),ce85166cf1a23c9f2a22a49b4f82895537edcfe6:n.bind(null,"ce85166cf1a23c9f2a22a49b4f82895537edcfe6"),ee535fd2e1d6ef6ab42586363f44c0cbea1161f9:n.bind(null,"ee535fd2e1d6ef6ab42586363f44c0cbea1161f9"),fe7b3552d9555bacd46a0fcf077d7272d19fd2c8:n.bind(null,"fe7b3552d9555bacd46a0fcf077d7272d19fd2c8")}},10590:(e,a,t)=>{let d={"17626542b799ad55d66a61eb1c6c83387f0dcdc7":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getOriginalByDomain),"21dad0493aed015526a61d45c462822ff3dbe078":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.saveCorrectionMap),"27292e0db1ea049094aca5cea9ce727e7660c6ad":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getOriginalCategory),"50109cb65c1da634a1805882896e3f4b886dc3b6":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.trashWord),"5d22d26a5bc6b5a20c845591229338f4b5ef7c4c":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getTextByOriginal),"5fb9f8b82dcff8496f64ded8cf754dc38af18221":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getWordInStore),"8123b9003e0dd95f542ea2ad28583619676cff06":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getOriginal),"9ca37af446368f4f1c00eda88cedaf4a6ff1320d":()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.searchSentenceByKeyword),b8b1a6dfe5222788dead20e81fc3b2e67f2fd00b:()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.searchWordInStore),d3974c3afa23da13df974e0a5eaa4527d6f92ffa:()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getTextByDomain),e5dbf3bb47056ca07728ecfa957e5fca01fb4a8f:()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getText),e7f35a88891f29a76dee37b1ae73232f1f359a93:()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.getTextCategory),f85ba165a1d481d90f9bccb76e2b9271e773c70c:()=>Promise.resolve().then(t.bind(t,98956)).then(e=>e.searchSentenceByLemma)};async function n(e,...a){return(await d[e]()).apply(null,a)}e.exports={"17626542b799ad55d66a61eb1c6c83387f0dcdc7":n.bind(null,"17626542b799ad55d66a61eb1c6c83387f0dcdc7"),"21dad0493aed015526a61d45c462822ff3dbe078":n.bind(null,"21dad0493aed015526a61d45c462822ff3dbe078"),"27292e0db1ea049094aca5cea9ce727e7660c6ad":n.bind(null,"27292e0db1ea049094aca5cea9ce727e7660c6ad"),"50109cb65c1da634a1805882896e3f4b886dc3b6":n.bind(null,"50109cb65c1da634a1805882896e3f4b886dc3b6"),"5d22d26a5bc6b5a20c845591229338f4b5ef7c4c":n.bind(null,"5d22d26a5bc6b5a20c845591229338f4b5ef7c4c"),"5fb9f8b82dcff8496f64ded8cf754dc38af18221":n.bind(null,"5fb9f8b82dcff8496f64ded8cf754dc38af18221"),"8123b9003e0dd95f542ea2ad28583619676cff06":n.bind(null,"8123b9003e0dd95f542ea2ad28583619676cff06"),"9ca37af446368f4f1c00eda88cedaf4a6ff1320d":n.bind(null,"9ca37af446368f4f1c00eda88cedaf4a6ff1320d"),b8b1a6dfe5222788dead20e81fc3b2e67f2fd00b:n.bind(null,"b8b1a6dfe5222788dead20e81fc3b2e67f2fd00b"),d3974c3afa23da13df974e0a5eaa4527d6f92ffa:n.bind(null,"d3974c3afa23da13df974e0a5eaa4527d6f92ffa"),e5dbf3bb47056ca07728ecfa957e5fca01fb4a8f:n.bind(null,"e5dbf3bb47056ca07728ecfa957e5fca01fb4a8f"),e7f35a88891f29a76dee37b1ae73232f1f359a93:n.bind(null,"e7f35a88891f29a76dee37b1ae73232f1f359a93"),f85ba165a1d481d90f9bccb76e2b9271e773c70c:n.bind(null,"f85ba165a1d481d90f9bccb76e2b9271e773c70c")}},31330:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,79404,23)),Promise.resolve().then(t.bind(t,25899))},90434:(e,a,t)=>{"use strict";t.d(a,{default:()=>n.a});var d=t(79404),n=t.n(d)},25899:(e,a,t)=>{"use strict";t.d(a,{default:()=>P});var d=t(10326),n=t(53134),s=t(1311),r=t(14509),i=t(99884),l=t(70175),c=t(88336),o=t(38647),f=t(23869),b=t(36780),u=t(17577),x=t(51223),m=t(90434),h=t(61980),p=t(82816),g=t(60449),v=t(50813);t(66401);var y=t(65825),j=t(35047);function P({user_id:e,item:a,tag_uuid:t}){let[P,w]=(0,u.useState)(!1),[_,N]=(0,u.useState)(!1),[S,U]=(0,u.useState)();(0,j.useRouter)();let q=e=>v.zQ.map(e=>e.color)[e];return(0,d.jsxs)("div",{className:"flex flex-col my-5 mx-5",children:[(0,d.jsxs)("div",{className:"flex flex-row gap-4 items-end justify-end",children:[d.jsx(s.A,{as:m.default,target:"_blank",color:"secondary",href:`/card/${a.uuid}/?edit=y`,children:"EDIT"}),d.jsx(s.A,{color:"secondary",onPress:()=>window.location.reload(),children:"NEXT"})]}),d.jsx("div",{className:"flex flex-row items-center justify-center",children:a.question.length<30?d.jsx("div",{className:"my-5 font-bold text-2xl md:text-4xl lg:text-6xl xl:text-8xl",children:d.jsx("pre",{className:"font-roboto leading-none",children:a.question})}):d.jsx("div",{className:"my-5 font-bold text-base md:text-xl lg:text-2xl xl:text-4xl",children:d.jsx("pre",{className:"font-roboto leading-none",children:a.question})})}),(0,d.jsxs)("div",{className:"flex flex-row my-5 items-center justify-center gap-4",children:[a.suggestion.length>0?d.jsx(s.A,{color:"primary",variant:"solid",onPress:()=>w(!P),children:P?"hide suggestion":"show suggestion"}):null,d.jsx(s.A,{color:"primary",variant:"solid",onPress:()=>N(!_),children:_?"hide answer":"show answer"}),d.jsx(r.g,{variant:"solid",color:"primary",children:(0,d.jsxs)(i.F,{placement:"bottom-end",children:[d.jsx(l.S,{children:(0,d.jsxs)(s.A,{children:["feedback ",d.jsx(h.QBW,{})]})}),d.jsx(c.a,{disallowEmptySelection:!0,className:"max-w-[300px]",selectionMode:"single",onSelectionChange:async t=>{if(t.currentKey){let d=parseInt(t.currentKey);"success"===(await (0,n.lq)(e,a.uuid,d)).status?window.location.reload():y.Am.error("save familiarity error")}},children:d.jsx(o.d,{items:v.zQ,children:v.zQ.map(e=>d.jsx(f.W,{description:e.description,className:`${q(e.value)}`,children:`${e.value} - ${e.label}`},e.value))})})]})})]}),P?d.jsx(b.Y,{isDisabled:!0,classNames:{input:"text-2xl leading-tight font-roboto"},defaultValue:a.suggestion}):null,_?d.jsx("div",{className:"MD my-1 text-base md:text-xl lg:text-2xl xl:text-4xl leading-tight font-roboto indent-0 whitespace-pre-wrap break-words hyphens-auto",dangerouslySetInnerHTML:{__html:(0,x.Hp)(a.answer)}}):null,_?d.jsx(b.Y,{isDisabled:!0,classNames:{input:"text-2xl leading-tight font-roboto"},defaultValue:a.note}):null,a.note.indexOf('"lemma":"')>=0&&d.jsx("div",{className:"flex flex-row gap-4 items-center justify-center",children:d.jsx(s.A,{color:"primary",onPress:async()=>{let e=a.note.match(/"lemma":"([^"]+)"/);if(e){let a=[e[1].trim()];U(await (0,g.s7)(a))}},children:"View Examples"})}),S&&"success"===S.status&&d.jsx(p.Z,{list:S.data})]})}},82816:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var d=t(10326),n=t(90434);function s({list:e,email:a}){return d.jsx("div",{className:"flex flex-col w-full gap-4 py-4",children:e.map(e=>(0,d.jsxs)("div",{className:"flex flex-col w-full items-start bg-slate-200 rounded-md p-1",children:[e.sentence&&d.jsx("div",{className:"text-xl whitespace-pre-wrap",children:e.sentence}),e.source&&d.jsx("div",{className:"text-base",children:e.source}),(0,d.jsxs)("div",{className:"flex flex-row w-full items-end justify-end gap-4",children:[d.jsx(n.default,{className:"text-blue-600 hover:underline",target:"_blank",href:`/word/text/${e.text_uuid}`,children:"View in Text"}),d.jsx(n.default,{className:"text-blue-600 hover:underline",target:"_blank",href:`/card/add?edit=y&content=${encodeURIComponent(e.sentence)}`,children:"Add to Cards"})]})]},e.uuid))})}t(17577)},50813:(e,a,t)=>{"use strict";var d,n;t.d(a,{_Y:()=>s,j8:()=>r,ll:()=>i,nr:()=>l,vA:()=>d,zQ:()=>c}),function(e){e.Normal="normal",e.Easy="easy",e.Unspecified="unspecified",e.Uncomplete="uncomplete"}(d||(d={}));let s=[{value:"unspecified",description:"all"},{value:"normal",description:"familiarity < 6"},{value:"easy",description:"familiarity = 6"},{value:"uncomplete",description:"question or answer is empty"}],r="unspecified",i="all tagged",l="not tagged";!function(e){e[e.NewlyAdded=0]="NewlyAdded",e[e.StillUnfamiliar=1]="StillUnfamiliar",e[e.PassiveUnderstanding=2]="PassiveUnderstanding",e[e.RecognitionWithoutUnderstanding=3]="RecognitionWithoutUnderstanding",e[e.UnderstandingInContext=4]="UnderstandingInContext",e[e.ActiveRecall=5]="ActiveRecall",e[e.NaturalUsage=6]="NaturalUsage"}(n||(n={}));let c=[{value:0,description:"Newly Added",label:"newly added",color:"bg-slate-200"},{value:1,description:"Still Unfamiliar",label:"strange",color:"bg-red-200"},{value:2,description:"Passive Understanding",label:"known",color:"bg-orange-200"},{value:3,description:"Recognition Without Understanding",label:"familiar",color:"bg-amber-200"},{value:4,description:"Understanding in Context",label:"skilled",color:"bg-cyan-200"},{value:5,description:"Active Recall",label:"practiced",color:"bg-green-200"},{value:6,description:"Natural Usage",label:"easy & never appear again",color:"bg-lime-200"}]},51223:(e,a,t)=>{"use strict";t.d(a,{$s:()=>l,Fs:()=>i,Hp:()=>c,p6:()=>r}),t(20339);var d=t(41092),n=t(66053),s=t(47463);let r=e=>{let a=e.getFullYear(),t=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0"),n=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),r=e.getSeconds().toString().padStart(2,"0");return`${a}-${t}-${d} ${n}:${s}:${r}`},i=()=>(0,s.Z)().replaceAll("-","");function l(e,a){return e[a]}let c=e=>d.Z.sanitize(n.TU.parse(e,{async:!1,pedantic:!1,gfm:!0}))},42168:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var d=t(19510),n=t(15316),s=t(83862);t(71159);var r=t(68570);let i=(0,r.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/card/test/TestForm.tsx`),{__esModule:l,$$typeof:c}=i;i.default;let o=(0,r.createProxy)(String.raw`/home/runner/work/als_next.js/als_next.js/src/app/card/test/TestForm.tsx#default`);var f=t(57371);async function b({params:e,searchParams:a}){let t=await (0,s.I8)(),r=t?.user?.email||"",i="string"==typeof a.tag?a.tag:"",l=[];if(!i){let e=await (0,n.getTagAll)(r);"success"===e.status&&(l=e.data)}let c="string"==typeof a.uuid?a.uuid:"",b=i?c?await (0,n.getCard)(c):await (0,n.getCardTest)(r,i):void 0;return d.jsx(d.Fragment,{children:i?b?.status==="success"?d.jsx(o,{user_id:r,item:b.data,tag_uuid:i}):d.jsx("div",{className:"text-2xl",children:"no card for test"}):(0,d.jsxs)("div",{className:"flex flex-col items-start justify-center my-4",children:[d.jsx("div",{className:"text-2xl",children:"Select a tag as the scope"}),l.map(e=>(0,d.jsxs)(f.default,{target:"_blank",className:"flex m-4 text-2xl font-bold text-blue-600 hover:underline",href:`/card/test?tag=${e.uuid}`,children:[e.tag," ",e.description?`(${e.description})`:""]},e.uuid))]})})}},66401:()=>{}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),d=a.X(0,[948,136,372,621,892,945,980,911,340,851,949],()=>t(25566));module.exports=d})();