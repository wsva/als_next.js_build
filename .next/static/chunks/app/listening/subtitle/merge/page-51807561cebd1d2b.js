(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1915],{14956:function(t,e,n){Promise.resolve().then(n.bind(n,85283))},20021:function(t,e,n){"use strict";var r;n.d(e,{H:function(){return r}}),function(t){class e{append(t){this.end_time=t.end_time,this.end_ms=t.end_ms,this.content_list.push(...t.content_list),this.translation_list.push(...t.translation_list)}playMedia(t,e){t.paused||t.pause();let n=e?this.extend_start_ms:this.start_ms,r=e?this.extend_end_ms:this.end_ms;t.currentTime=n/1e3,t.play();let s=setTimeout(()=>{t.removeEventListener("pause",i),t.pause()},r-n);function i(){clearTimeout(s)}t.addEventListener("pause",i)}getTip(){let t=this.content_list.join(" ").replaceAll(/[a-zA-Z0-9äÄöÖüÜßé]/g,"_"),e=0,n="";for(let r of t)"_"===r?e++:e>0&&(n+="".concat(e),e=0),n+=r;return e>0&&(n+="".concat(e)),n}cleanStyle(t){return t.replace(/^<font [^>]*>/,"").replace(/<\/font>$/,"")}content(){return this.content_list.join(" ")}translation(){return this.translation_list.join("\n")}first_line(){return this.content_list?this.content_list[0]:""}last_line(){return this.content_list?this.content_list[this.content_list.length-1]:""}time_str(){return"".concat(this.start_time," --> ").concat(this.end_time)}constructor(t,e){if(this.init_status="error",this.init_error="not initialized",this.position=0,this.start_time="",this.end_time="",this.start_ms=0,this.end_ms=0,this.extend_start_ms=0,this.extend_end_ms=0,this.content_list=[],this.translation_list=[],t.length<2){this.init_status="error",this.init_error="too few lines";return}if(!t[0].match(/^\d+$/)){this.init_status="error",this.init_error="invalid position number: ".concat(t[0]);return}let n=s(t[1]);if(!n){this.init_status="error",this.init_error="invalid time format: ".concat(t[1]);return}this.init_status="success",this.init_error="",this.position=parseInt(t[0]),this.start_time=n.start_time,this.start_ms=n.start_ms,this.end_time=n.end_time,this.end_ms=n.end_ms,e?(t.length>2&&this.content_list.push(this.cleanStyle(t[2])),t.length>3&&t.slice(3).forEach(t=>this.translation_list.push(this.cleanStyle(t)))):t.length>2&&t.slice(2).forEach(t=>this.content_list.push(this.cleanStyle(t)))}}t.Item=e;let n=(t,e,n,r)=>36e5*parseInt(t)+6e4*parseInt(e)+1e3*parseInt(n)+parseInt(r),r=t=>{let e="".concat(Math.floor(t/1e3/60/60)).padStart(2,"0"),n="".concat(Math.floor(t/1e3/60%60)).padStart(2,"0"),r="".concat(Math.floor(t/1e3%60)).padStart(2,"0"),s="".concat(Math.floor(t%1e3)).padStart(2,"0");return"".concat(e,":").concat(n,":").concat(r,",").concat(s)},s=t=>{let e=t.match(/((\d{2}):(\d{2}):(\d{2}),(\d{3})) --> ((\d{2}):(\d{2}):(\d{2}),(\d{3}))/);return e?{start_time:e[1],start_ms:n(e[2],e[3],e[4],e[5]),end_time:e[6],end_ms:n(e[7],e[8],e[9],e[10])}:null},i=(t,e)=>"".concat(r(t)," --> ").concat(r(e)),l=t=>{let e=t.trim().replaceAll("\r\n","\n").replaceAll("\r","\n").split("\n"),n=[],r=[];for(let t of e){if(""===(t=t.trim())){r.length>0&&(n.push(r),r=[]);continue}r.push(t)}return r.length>0&&n.push(r),n},o=t=>{let e=[];for(let n of t){if(e.length>0&&e[e.length-1].last_line().match(/[a-zA-Z0-9äÄöÖüÜßé,:-]$/)&&n.first_line().match(/^[0-9a-z]/)){e[e.length-1].append(n);continue}e.push(n)}for(let t=0;t<e.length;t++)e[t].position=t+1;return e};t.parse_srt_content=(t,n)=>{let r=l(t),s=[],i=r.map(t=>{let r=new e(t,n);return"error"===r.init_status&&s.push(r.init_error),r}).filter(t=>t.content_list.length>0);if(0===s.length){let t=o(o(o(i)));for(let e=0;e<t.length;e++)t[e].position=e+1,t[e].extend_start_ms=e>0?t[e-1].start_ms:t[e].start_ms,t[e].extend_end_ms=e+1<t.length?t[e+1].end_ms:t[e].end_ms;return{status:"success",data:t}}return{status:"error",error:s.join("\n")}},t.build_srt_content=t=>{let e="";return t.forEach(t=>{e+="".concat(t.position,"\n")+"".concat(i(t.start_ms,t.end_ms),"\n"),t.content_list.length>0&&(e+="".concat(t.content(),"\n")),t.translation_list.length>0&&(e+="".concat(t.translation(),"\n")),e+="\n"}),e},t.hideWord=t=>{let e=t.replaceAll(/[a-zA-Z0-9äÄöÖüÜßé]/g,"_"),n=0,r="";for(let t of e)"_"===t?n++:n>0&&(r+="".concat(n),n=0),r+=t;return n>0&&(r+="".concat(n)),r},t.pureContent=t=>t.replaceAll(/[^a-zA-Z0-9äÄöÖüÜßé]/g,""),t.splitContent=(t,e)=>{let n=[],r="";for(let s of t){if(s.match(/[a-zA-Z0-9äÄöÖüÜßé]/)){r+=s;continue}""!==r&&(n.push({isWord:!0,content:r}),r=""),e||n.push({isWord:!1,content:s})}return""!==r&&n.push({isWord:!0,content:r}),n},t.from_breakpoints=t=>{let n=[];for(let r=1;r<t.length;r++){let s=["".concat(r),i(t[r-1],t[r]),"content"];n.push(new e(s,!1))}return n}}(r||(r={}))},85283:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=n(57437),s=n(2265),i=n(69813),l=n(84459),o=n(76993),a=n(20021),c=n(28196);function u(){let[t,e]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),[d,h]=(0,s.useState)([]),[p,f]=(0,s.useState)([]),[m,_]=(0,s.useState)(""),[v,g]=(0,s.useState)(0),[y,b]=(0,s.useState)(!1),j=(0,s.useRef)(null),x=(0,s.useRef)(null),O=t=>{let e=a.H.parse_srt_content(t,!1);"success"===e.status?e.data.length>0&&(h(e.data),_("")):_(e.error)},w=t=>{let e=a.H.parse_srt_content(t,!1);"success"===e.status?e.data.length>0&&(f(e.data),_(""),N(d,e.data)):_(e.error)},N=(t,e)=>{b(!0);let n=t.map((t,n)=>{t.translation_list=[];let r=n+v;return r>=0&&r<e.length&&t.translation_list.push(...e[r].content_list),t});u(a.H.build_srt_content(n)),b(!1)};return(0,r.jsxs)("div",{className:"flex flex-col gap-4 my-2",children:[(0,r.jsxs)("div",{className:"flex flex-row my-1 items-center justify-center gap-4",children:[(0,r.jsx)(i.Y,{className:"hidden",type:"file",ref:j,onChange:async t=>{let n=t.target.files[0];e(n.name);let r=(await n.text()).trim().replaceAll("\r\n","\n").replaceAll("\r","\n"),s=[];for(let t of r.split("\n"))if(!(s.length<1)||"1"===t){if(s.length>0&&t.endsWith("`;"))break;s.push(t)}O(s.join("\n"))}}),(0,r.jsx)(l.A,{color:"primary",variant:"solid",isDisabled:d.length>0,onPress:()=>{var t;return null===(t=j.current)||void 0===t?void 0:t.click()},children:"select original subtitle"}),(0,r.jsx)(i.Y,{className:"hidden",type:"file",ref:x,onChange:async t=>{let e=t.target.files[0],n=(await e.text()).trim().replaceAll("\r\n","\n").replaceAll("\r","\n"),r=[];for(let t of n.split("\n"))if(!(r.length<1)||"1"===t){if(r.length>0&&t.endsWith("`;"))break;r.push(t)}w(r.join("\n"))}}),(0,r.jsx)(l.A,{color:"primary",variant:"solid",isDisabled:p.length>0,onPress:()=>{var t;return null===(t=x.current)||void 0===t?void 0:t.click()},children:"select translated subtitle"}),(0,r.jsx)(l.A,{color:"primary",variant:"solid",onPress:()=>{let e=new Blob([n],{type:"text/plain"}),r=URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),URL.revokeObjectURL(r),document.body.removeChild(s)},isDisabled:!t||!n,children:"Download"})]}),(0,r.jsxs)("div",{className:"flex flex-row my-1 items-center justify-center gap-4",children:["Set offsite of the second subtitle",(0,r.jsxs)(o.g,{color:"primary",children:[(0,r.jsx)(l.A,{isIconOnly:!0,isDisabled:y,onPress:()=>{g(v-1),N(d,p)},children:(0,r.jsx)(c.pwh,{})}),(0,r.jsx)(i.Y,{className:"w-10",radius:"none",color:"primary",isDisabled:!0,classNames:{input:"text-lg font-bold text-black"},value:"".concat(v)}),(0,r.jsx)(l.A,{isIconOnly:!0,isDisabled:y,onPress:()=>{g(v+1),N(d,p)},children:(0,r.jsx)(c.poH,{})})]})]}),m.length>0&&(0,r.jsx)("pre",{className:"my-4 items-center justify-center",children:m}),(0,r.jsx)("pre",{className:"my-4 items-center justify-center bg-slate-300 p-2",children:n})]})}},76993:function(t,e,n){"use strict";n.d(e,{g:function(){return a}});var r=n(88517),s=n(63009),i=n(46135),l=n(57437),o=(0,i.Gp)((t,e)=>{let{Component:n,domRef:i,context:o,children:a,classNames:c,getButtonGroupProps:u}=(0,r.i)({...t,ref:e});return(0,l.jsx)(s.D,{value:o,children:(0,l.jsx)(n,{ref:i,className:c,...u(),children:a})})});o.displayName="HeroUI.ButtonGroup";var a=o},88517:function(t,e,n){"use strict";n.d(e,{i:function(){return c}});var r=n(34705),s=n(94773),i=n(46135),l=n(85075),o=n(2265),a=n(1953);function c(t){var e,n;let c=(0,s.w)(),[u,d]=(0,i.oe)(t,r.D.variantKeys),{ref:h,as:p,children:f,color:m="default",size:_="md",variant:v="solid",radius:g,isDisabled:y=!1,isIconOnly:b=!1,disableRipple:j=null!=(e=null==c?void 0:c.disableRipple)&&e,disableAnimation:x=null!=(n=null==c?void 0:c.disableAnimation)&&n,className:O,...w}=u,N=(0,l.gy)(h),P=(0,o.useMemo)(()=>(0,r.D)({...d,className:O}),[(0,a.Xx)(d),O]);return{Component:p||"div",children:f,domRef:N,context:(0,o.useMemo)(()=>({size:_,color:m,variant:v,radius:g,isIconOnly:b,isDisabled:y,disableAnimation:x,disableRipple:j,fullWidth:!!(null==t?void 0:t.fullWidth)}),[_,m,v,g,y,b,x,j,null==t?void 0:t.fullWidth]),classNames:P,getButtonGroupProps:(0,o.useCallback)(()=>({role:"group",...w}),[w])}}},69813:function(t,e,n){"use strict";n.d(e,{Y:function(){return c}});var r=n(56075),s=n(77100),i=n(2265),l=n(46135),o=n(57437),a=(0,l.Gp)((t,e)=>{let{Component:n,label:l,description:a,isClearable:c,startContent:u,endContent:d,labelPlacement:h,hasHelper:p,isOutsideLeft:f,shouldLabelBeOutside:m,errorMessage:_,isInvalid:v,getBaseProps:g,getLabelProps:y,getInputProps:b,getInnerWrapperProps:j,getInputWrapperProps:x,getMainWrapperProps:O,getHelperWrapperProps:w,getDescriptionProps:N,getErrorMessageProps:P,getClearButtonProps:S}=(0,r.G)({...t,ref:e}),A=l?(0,o.jsx)("label",{...y(),children:l}):null,E=(0,i.useMemo)(()=>c?(0,o.jsx)("button",{...S(),children:d||(0,o.jsx)(s.f,{})}):d,[c,S]),k=(0,i.useMemo)(()=>{let t=v&&_,e=t||a;return p&&e?(0,o.jsx)("div",{...w(),children:t?(0,o.jsx)("div",{...P(),children:_}):(0,o.jsx)("div",{...N(),children:a})}):null},[p,v,_,a,w,P,N]),C=(0,i.useMemo)(()=>(0,o.jsxs)("div",{...j(),children:[u,(0,o.jsx)("input",{...b()}),E]}),[u,E,b,j]),D=(0,i.useMemo)(()=>m?(0,o.jsxs)("div",{...O(),children:[(0,o.jsxs)("div",{...x(),children:[f?null:A,C]}),k]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{...x(),children:[A,C]}),k]}),[h,k,m,A,C,_,a,O,x,P,N]);return(0,o.jsxs)(n,{...g(),children:[f?A:null,D]})});a.displayName="HeroUI.Input";var c=a},91810:function(t,e,n){"use strict";n.d(e,{w_:function(){return u}});var r=n(2265),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(s),l=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){var r,s;r=e,s=n[e],(r=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(t){return e=>r.createElement(d,o({attr:c({},t.attr)},e),function t(e){return e&&e.map((e,n)=>r.createElement(e.tag,c({key:n},e.attr),t(e.child)))}(t.child))}function d(t){var e=e=>{var n,{attr:s,size:i,title:a}=t,u=function(t,e){if(null==t)return{};var n,r,s=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}(t,l),d=i||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:n,style:c(c({color:t.color||e.color},e.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),t.children)};return void 0!==i?r.createElement(i.Consumer,null,t=>e(t)):e(s)}}},function(t){t.O(0,[614,4122,4459,8627,7669,2971,7023,1744],function(){return t(t.s=14956)}),_N_E=t.O()}]);