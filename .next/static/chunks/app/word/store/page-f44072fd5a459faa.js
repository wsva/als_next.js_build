(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8155],{42480:function(){},24598:function(e,t,a){Promise.resolve().then(a.bind(a,81650)),Promise.resolve().then(a.bind(a,87777)),Promise.resolve().then(a.bind(a,35469)),Promise.resolve().then(a.bind(a,68755)),Promise.resolve().then(a.bind(a,88786)),Promise.resolve().then(a.bind(a,24680)),Promise.resolve().then(a.bind(a,76725)),Promise.resolve().then(a.bind(a,34437)),Promise.resolve().then(a.bind(a,72772)),Promise.resolve().then(a.bind(a,68129)),Promise.resolve().then(a.bind(a,98693)),Promise.resolve().then(a.bind(a,91030)),Promise.resolve().then(a.bind(a,73494)),Promise.resolve().then(a.bind(a,53419)),Promise.resolve().then(a.bind(a,77265)),Promise.resolve().then(a.bind(a,76322)),Promise.resolve().then(a.bind(a,57676)),Promise.resolve().then(a.bind(a,47158)),Promise.resolve().then(a.bind(a,27901)),Promise.resolve().then(a.bind(a,70885)),Promise.resolve().then(a.bind(a,44073)),Promise.resolve().then(a.bind(a,22597)),Promise.resolve().then(a.bind(a,36112)),Promise.resolve().then(a.bind(a,99964)),Promise.resolve().then(a.bind(a,25002)),Promise.resolve().then(a.bind(a,35565)),Promise.resolve().then(a.bind(a,19072)),Promise.resolve().then(a.bind(a,3619)),Promise.resolve().then(a.bind(a,17887)),Promise.resolve().then(a.bind(a,44043)),Promise.resolve().then(a.bind(a,31495)),Promise.resolve().then(a.bind(a,55522)),Promise.resolve().then(a.bind(a,27059)),Promise.resolve().then(a.bind(a,32481)),Promise.resolve().then(a.bind(a,48974)),Promise.resolve().then(a.bind(a,11197)),Promise.resolve().then(a.bind(a,86229)),Promise.resolve().then(a.bind(a,94897)),Promise.resolve().then(a.bind(a,30743)),Promise.resolve().then(a.bind(a,1831)),Promise.resolve().then(a.bind(a,31212)),Promise.resolve().then(a.bind(a,13161))},55195:function(e,t,a){"use strict";a.d(t,{Aj:function(){return m},CZ:function(){return d},LG:function(){return u},fM:function(){return s},ln:function(){return f},lq:function(){return c},mg:function(){return i},pl:function(){return r},tc:function(){return b},yJ:function(){return o},z_:function(){return l}}),a(74590);var n=a(58064),r=(0,n.$)("ae2756021412af3c7533170046625d9bfe173ca7"),s=(0,n.$)("50b8ee2c01702d556b77028eb169eaff9ea0f820"),i=(0,n.$)("92a63b1efc916ff008d1272dc5a65580af78af67");(0,n.$)("40b0e9a5fae5e29abe9213bb007d11cec6f7e31f");var l=(0,n.$)("2c8f731e7c04d6b71f833304321e741fa16aeefd");(0,n.$)("0032af294b820d5b2f6ecb599810073224fb8405");var o=(0,n.$)("479742cc8645e1909d54f38cd9fe015e9621ab60"),c=(0,n.$)("6d2e69b109044da9a0608b4844be959036b9b175");(0,n.$)("b9098ba02eb30e332c60e216b96eda5868da288a");var d=(0,n.$)("651d629a9efc5ac1f2e83ecc837477b8129dac19"),u=(0,n.$)("32a3617889b58b88de5846c96efc11d8a1322d4a"),f=(0,n.$)("59141756fe4b901c2b6407bb9725bab62d2967e1"),b=(0,n.$)("523b5dd287e6725b6f91274aca1051653bfdf0e6"),m=(0,n.$)("fbde93d90dfb682967795128b2ca856ab81d14aa")},63717:function(e,t,a){"use strict";a.d(t,{Cm:function(){return i},Ml:function(){return s},Sj:function(){return c},f:function(){return l},qS:function(){return r},s7:function(){return o}}),a(74590);var n=a(58064),r=(0,n.$)("21dad0493aed015526a61d45c462822ff3dbe078"),s=(0,n.$)("5fb9f8b82dcff8496f64ded8cf754dc38af18221"),i=(0,n.$)("b8b1a6dfe5222788dead20e81fc3b2e67f2fd00b");(0,n.$)("27292e0db1ea049094aca5cea9ce727e7660c6ad"),(0,n.$)("17626542b799ad55d66a61eb1c6c83387f0dcdc7"),(0,n.$)("8123b9003e0dd95f542ea2ad28583619676cff06"),(0,n.$)("e7f35a88891f29a76dee37b1ae73232f1f359a93"),(0,n.$)("d3974c3afa23da13df974e0a5eaa4527d6f92ffa"),(0,n.$)("5d22d26a5bc6b5a20c845591229338f4b5ef7c4c"),(0,n.$)("e5dbf3bb47056ca07728ecfa957e5fca01fb4a8f");var l=(0,n.$)("9ca37af446368f4f1c00eda88cedaf4a6ff1320d"),o=(0,n.$)("f85ba165a1d481d90f9bccb76e2b9271e773c70c"),c=(0,n.$)("50109cb65c1da634a1805882896e3f4b886dc3b6")},13161:function(e,t,a){"use strict";a.d(t,{default:function(){return K}});var n=a(57437),r=a(63717),s=a(69813),i=a(59842),l=a(94862),o=a(2265),c=a(18402),d=a(62511),u=a(30757),f=a(56398),b=a(58149),m=a(52210),g=a(34471),h=a(91587),v=a(79413),x=a(55195),p=a(49354),j=a(79547),w=a(76993),y=a(84459),_=a(73389),P=a(87949),S=a(30502),N=a(93999),A=a(1770),z=a(12059),$=a(40106),C=a(55350),k=a(38122),O=a(55071),D=a(33788),U=a(8052),q=a(53440),I=a(62753),R=a(69218),Y=a(39343),J=a(44379),M=a(31014),W=a(59772);function E(e){let{word:t,tag_list:a,isOpen:r,isDisabled:i,onOpenChange:l,onSubmit:c}=e,[d,u]=(0,o.useState)(["word_".concat(t.language,"_by_system")]),{register:f,handleSubmit:b,formState:m}=(0,Y.cI)({resolver:(0,M.F)(W.z.object({question:W.z.string().min(1,{message:"question cannot be empty"}),suggestion:W.z.string(),answer:W.z.string().min(1,{message:"answer cannot be empty"}),familiarity:W.z.string(),note:W.z.string()})),mode:"onTouched"}),g=e=>J.zQ.map(e=>e.color)[e],h=async e=>{"string"==typeof e.familiarity&&(e.familiarity=parseInt(e.familiarity||"0",10)),e.tag_list_new=d,c(e)};return(0,n.jsx)(A.R,{isOpen:r,onOpenChange:l,placement:"top-center",size:"xl",children:(0,n.jsx)(z.A,{children:e=>{var r,l;return(0,n.jsxs)("form",{onSubmit:b(h),children:[(0,n.jsx)($.k,{className:"flex flex-col gap-1",children:"Edit Card"}),(0,n.jsxs)(C.I,{children:[(0,n.jsx)(s.Y,{label:"question",variant:"bordered",defaultValue:t.word,...f("question"),isInvalid:!!m.errors.question,errorMessage:null===(r=m.errors.question)||void 0===r?void 0:r.message}),(0,n.jsx)(k.g,{"aria-label":"select familiarity",selectionMode:"single",defaultSelectedKeys:["0"],...f("familiarity"),children:(0,n.jsx)(O.y,{items:J.zQ,children:J.zQ.map(e=>(0,n.jsx)(D.R,{className:"".concat(g(e.value)),children:"".concat(e.value," - ").concat(e.label)},e.value))})}),a.length>0?(0,n.jsx)(U.X,{color:"success",value:d,onValueChange:u,orientation:"horizontal",children:a.map(e=>(0,n.jsx)(q.K,{value:e.uuid,children:e.tag},e.uuid))}):(0,n.jsx)("div",{children:"not tag found"}),(0,n.jsx)(s.Y,{label:"suggestion",variant:"bordered",...f("suggestion")}),(0,n.jsx)(I.Y,{label:"answer",variant:"bordered",...f("answer"),isInvalid:!!m.errors.answer,errorMessage:null===(l=m.errors.answer)||void 0===l?void 0:l.message}),(0,n.jsx)(I.Y,{label:"Note",variant:"bordered",defaultValue:'{"type":"word", "language":'.concat(JSON.stringify(t.language),', "lemma":').concat(JSON.stringify(t.word),', "in_dict":').concat(t.in_dict?"true":"false",', "domain_list":').concat(JSON.stringify(t.domain_list),"}"),...f("note")})]}),(0,n.jsxs)(R.R,{children:[(0,n.jsx)(y.A,{color:"danger",variant:"flat",onPress:e,children:"Cancel"}),(0,n.jsx)(y.A,{color:"primary",type:"submit",isDisabled:i,children:"Submit"})]})]})}})})}function F(e){let{lemma:t}=e,{register:a,handleSubmit:i}=(0,Y.cI)(),l=async e=>{"success"===(await (0,r.qS)(e)).status?N.Am.success("correction added for ".concat(e.lemma)):N.Am.error("add correction for ".concat(e.lemma," failed"))};return(0,n.jsx)("form",{onSubmit:i(l),children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,n.jsx)(s.Y,{label:"Word",variant:"bordered",size:"sm",defaultValue:t,...a("lemma")}),(0,n.jsx)(s.Y,{label:"Correction",variant:"bordered",size:"sm",...a("correction")}),(0,n.jsx)(v.O,{as:"button",type:"submit",className:"bg-blue-500 rounded-md text-slate-50 px-2",children:"add to correction map"})]})})}var H=a(28196);function X(e){let{word:t,email:a}=e,[s,i]=(0,o.useState)(!!t.card_uuid&&t.card_uuid.length>0),[l,c]=(0,o.useState)([]),{isOpen:d,onOpen:u,onOpenChange:f}=(0,j.q)(),b=async()=>{let e=(0,p.Fs)();"success"===(await (0,x.z_)({uuid:e,user_id:a,question:t.word,suggestion:"",answer:"easy",familiarity:6,note:'{"type":"word", "language":'.concat(JSON.stringify(t.language),', "lemma":').concat(JSON.stringify(t.word),', "in_dict":').concat(t.in_dict?"true":"false",', "domain_list":').concat(JSON.stringify(t.domain_list),"}"),created_at:new Date,updated_at:new Date})).status?(i(!0),N.Am.success("added ".concat(t.word))):N.Am.error("add ".concat(t.word," failed"));let n="word_".concat(t.language,"_by_system");await (0,x.ln)({uuid:n,tag:"word_".concat(t.language),description:"created by system",user_id:"public",created_at:new Date,updated_at:new Date}),"success"===(await (0,x.pl)({uuid:e,tag_list_new:[n]})).status?N.Am.success("add tag successfully"):N.Am.error("add tag failed")},m=async e=>{let n=(0,p.Fs)();"success"===(await (0,x.z_)({uuid:n,user_id:a,question:e.question||"",suggestion:e.suggestion||"",answer:e.answer||"",familiarity:e.familiarity||0,note:e.note||"",created_at:new Date,updated_at:new Date})).status?(i(!0),N.Am.success("saved ".concat(e.question))):N.Am.error("save ".concat(e.question," failed"));let r="word_".concat(t.language,"_by_system");await (0,x.ln)({uuid:r,tag:"word_".concat(t.language),description:"created by system",user_id:"public",created_at:new Date,updated_at:new Date}),e.tag_list_new||(e.tag_list_new=[]),e.tag_list_new.includes(r)||e.tag_list_new.push(r),"success"===(await (0,x.pl)({uuid:n,tag_list_new:e.tag_list_new})).status?N.Am.success("save tag successfully"):N.Am.error("save tag failed")},h=async()=>{"success"===(await (0,r.Sj)(t.word,a)).status?(i(!0),N.Am.success("moved ".concat(t.word," to trash"))):N.Am.error("move ".concat(t.word," to trash failed"))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(w.g,{variant:"light",children:[(0,n.jsx)(g.e,{color:"primary",content:"easy & never appear again",children:(0,n.jsx)(y.A,{isIconOnly:!0,variant:"light",isDisabled:s,onPress:b,children:(0,n.jsx)(H._8X,{size:20})})}),(0,n.jsx)(g.e,{color:"primary",closeDelay:0,content:"add card",children:(0,n.jsx)(y.A,{isIconOnly:!0,variant:"light",isDisabled:s,onPress:async()=>{let e=await (0,x.CZ)(a||"");"success"===e.status&&c(e.data),u()},children:(0,n.jsx)(H.poH,{size:20})})}),(0,n.jsx)(g.e,{color:"primary",content:"view examples",children:(0,n.jsx)(y.A,{isIconOnly:!0,variant:"light",as:v.O,target:"_blank",href:"/word/sentence?lemma=".concat(t.word),children:(0,n.jsx)(H.rpH,{size:20})})}),(0,n.jsxs)(_.j,{placement:"bottom",classNames:{content:"bg-slate-200"},children:[(0,n.jsx)(g.e,{color:"primary",content:"set correction map",children:(0,n.jsx)("div",{className:"max-w-fit",children:(0,n.jsx)(P.b,{children:(0,n.jsx)(y.A,{isIconOnly:!0,variant:"light",isDisabled:s,children:(0,n.jsx)(H.HZ8,{size:20})})})})}),(0,n.jsx)(S.g,{children:(0,n.jsx)("div",{className:"",children:(0,n.jsx)(F,{lemma:t.word})})})]}),(0,n.jsx)(g.e,{color:"danger",content:"move to trash",children:(0,n.jsx)(y.A,{isIconOnly:!0,variant:"light",isDisabled:s,onPress:h,children:(0,n.jsx)(H.SW4,{size:20})})})]}),(0,n.jsx)(E,{word:t,tag_list:l,isOpen:d,isDisabled:s,onOpenChange:f,onSubmit:m})]})}let Z=(e,t)=>(0,n.jsx)(g.e,{content:e,children:(0,n.jsx)(h.z,{size:"lg",variant:"flat",children:t})});function Q(e){let{word:t,email:a}=e;return(0,n.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1",children:[t.level&&Z("level",t.level),t.count&&Z("count","".concat(t.count)),t.language&&Z("language",t.language),t.domain_list&&Z("domains",t.domain_list)]})}function V(e){let{words:t,email:a}=e;return(0,n.jsxs)(c.b,{isStriped:!0,"aria-label":"word",children:[(0,n.jsxs)(d.J,{children:[(0,n.jsx)(u.j,{className:"border-1",children:"Word"}),(0,n.jsx)(u.j,{className:"border-1",children:"Actions"}),(0,n.jsx)(u.j,{className:"border-1",children:"Info"})]}),(0,n.jsx)(f.y,{items:t,children:e=>(0,n.jsxs)(b.g,{className:"border-1",children:[(0,n.jsxs)(m.X,{className:"border-1",children:[e.in_dict?(0,n.jsx)(g.e,{content:"in dictionary",placement:"right",showArrow:!0,children:(0,n.jsx)(h.z,{color:"success",size:"lg",variant:"flat",children:e.word})}):(0,n.jsx)(h.z,{color:"default",size:"lg",variant:"flat",children:e.word}),e.card_uuid&&e.card_uuid.length>0&&(0,n.jsx)(g.e,{placement:"right",showArrow:!0,content:e.card_uuid.split(",").map((e,t)=>(0,n.jsx)(v.O,{target:"_blank",href:"/card/".concat(e),className:"text-blue-500",children:"Card ".concat(t+1)},t)),children:(0,n.jsx)(h.z,{color:"warning",size:"lg",variant:"flat",children:"in cards"})})]}),(0,n.jsx)(m.X,{className:"border-1",children:a?(0,n.jsx)(X,{word:e,email:a}):"not logged in"}),(0,n.jsx)(m.X,{className:"border-1",children:(0,n.jsx)(Q,{word:e,email:a})})]},e.uuid)})]})}function K(e){let{email:t,language:a,keyword:c}=e,[d,u]=(0,o.useState)(c),[f,b]=(0,o.useState)(!1),[m,g]=(0,o.useState)([]),[h,v]=(0,o.useState)(1),[x,p]=(0,o.useState)(0),j=async(e,n)=>{if(b(!0),e){let s=await (0,r.Cm)(t||"",a,e,n,20);console.log("result1",s),"success"===s.status&&(g(s.data),p(s.total_pages||0))}else{let e=await (0,r.Ml)(t||"",a,n,20);console.log("result2",e),"success"===e.status&&(g(e.data),p(e.total_pages||0))}b(!1)};return(0,o.useEffect)(()=>{j(d,h)},[]),(0,n.jsxs)("div",{className:"flex flex-col w-full items-start justify-start my-4 gap-4",children:[(0,n.jsx)(s.Y,{isClearable:!0,radius:"lg",classNames:{label:"text-black/50 dark:text-white/90",input:["bg-transparent","text-black/90 dark:text-white/90","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focus=true]:bg-default-200/50","dark:group-data-[focus=true]:bg-default/60","!cursor-text"]},placeholder:"Search in word store",startContent:(0,n.jsx)(H.Goc,{className:"text-black/50 mb-0.5 dark:text-white/90 text-slate-400 pointer-events-none flex-shrink-0"}),value:d,onClear:()=>u(""),onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"==e.key&&(g([]),v(1),j(d,1))}}),(0,n.jsxs)("div",{className:"flex flex-row w-full items-center justify-center gap-4",children:[(0,n.jsx)("div",{children:"Page"}),(0,n.jsx)(i.g,{showControls:!0,loop:!0,variant:"bordered",total:x,page:h,isDisabled:f,onChange:e=>{v(e),j(d,e)}})]}),f?(0,n.jsx)("div",{className:"flex flex-row w-full items-center justify-center gap-4",children:(0,n.jsx)(l.Z,{label:"Loading..."})}):(0,n.jsx)(V,{words:m,email:t}),(0,n.jsxs)("div",{className:"flex flex-row w-full items-center justify-center gap-4",children:[(0,n.jsx)("div",{children:"Page"}),(0,n.jsx)(i.g,{showControls:!0,loop:!0,variant:"bordered",total:x,page:h,isDisabled:f,onChange:e=>{v(e),j(d,e)}})]})]})}},44379:function(e,t,a){"use strict";var n,r,s,i;a.d(t,{_Y:function(){return l},j8:function(){return o},ll:function(){return c},nr:function(){return d},vA:function(){return n},zQ:function(){return u}}),(s=n||(n={})).Normal="normal",s.Easy="easy",s.Unspecified="unspecified",s.Uncomplete="uncomplete";let l=[{value:"unspecified",description:"all"},{value:"normal",description:"familiarity < 6"},{value:"easy",description:"familiarity = 6"},{value:"uncomplete",description:"question or answer is empty"}],o="unspecified",c="all tagged",d="not tagged";(i=r||(r={}))[i.NewlyAdded=0]="NewlyAdded",i[i.StillUnfamiliar=1]="StillUnfamiliar",i[i.PassiveUnderstanding=2]="PassiveUnderstanding",i[i.RecognitionWithoutUnderstanding=3]="RecognitionWithoutUnderstanding",i[i.UnderstandingInContext=4]="UnderstandingInContext",i[i.ActiveRecall=5]="ActiveRecall",i[i.NaturalUsage=6]="NaturalUsage";let u=[{value:0,description:"Newly Added",label:"newly added",color:"bg-slate-200"},{value:1,description:"Still Unfamiliar",label:"strange",color:"bg-red-200"},{value:2,description:"Passive Understanding",label:"known",color:"bg-orange-200"},{value:3,description:"Recognition Without Understanding",label:"familiar",color:"bg-amber-200"},{value:4,description:"Understanding in Context",label:"skilled",color:"bg-cyan-200"},{value:5,description:"Active Recall",label:"practiced",color:"bg-green-200"},{value:6,description:"Natural Usage",label:"easy & never appear again",color:"bg-lime-200"}]},49354:function(e,t,a){"use strict";a.d(t,{$s:function(){return c},Fs:function(){return o},Hp:function(){return d},p6:function(){return l}}),a(58110);var n=a(11838),r=a.n(n),s=a(12266),i=a(20920);let l=e=>{let t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),r=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),i=e.getSeconds().toString().padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n," ").concat(r,":").concat(s,":").concat(i)},o=()=>(0,i.Z)().replaceAll("-","");function c(e,t){return e[t]}let d=e=>r().sanitize(s.TU.parse(e,{async:!1,pedantic:!1,gfm:!0}))}},function(e){e.O(0,[614,4122,4459,8627,7669,396,5229,162,5917,9413,9429,6507,906,4471,4862,9306,9343,2607,1201,2677,5844,9601,6303,130,2971,7023,1744],function(){return e(e.s=24598)}),_N_E=e.O()}]);