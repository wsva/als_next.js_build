(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{13494:function(e,t,r){Promise.resolve().then(r.t.bind(r,53054,23)),Promise.resolve().then(r.bind(r,46493)),Promise.resolve().then(r.bind(r,49833))},87138:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(231),s=r.n(n)},16463:function(e,t,r){"use strict";var n=r(71169);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},20357:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(88081)},88081:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],c=!1,d=-1;function u(){c&&n&&(c=!1,n.length?l=n.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=a(u);c=!0;for(var t=l.length;t;){for(n=l,l=[];++d<t;)n&&n[d].run();d=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}},i=!0;try{t[e](o,o.exports,n),i=!1}finally{i&&delete r[e]}return o.exports}n.ab="//";var s=n(229);e.exports=s}()},49833:function(e,t,r){"use strict";r.d(t,{default:function(){return a}});var n=r(57437);r(2265);var s=r(92444),o=r(16463),i=r(93999);function a(e){let{children:t}=e,r=(0,o.useRouter)();return(0,n.jsxs)(s.p,{navigate:r.push,children:[(0,n.jsx)(i.Ix,{position:"bottom-right",hideProgressBar:!0,className:"z-50"}),t]})}r(44193)},46493:function(e,t,r){"use strict";r.d(t,{default:function(){return ey}});var n,s,o,i,a,l=r(57437),c=r(21326),d=r(59520),u=r(46637),h=r(84459),p=r(87138),f=r(2265),g=r.t(f,2),x=r(70971),v=r(11956),m=r(52150),y=r(7017);class w extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class b extends w{}b.kind="signIn";class j extends w{}j.type="AdapterError";class E extends w{}E.type="AccessDenied";class _ extends w{}_.type="CallbackRouteError";class T extends w{}T.type="ErrorPageLoop";class k extends w{}k.type="EventError";class P extends w{}P.type="InvalidCallbackUrl";class S extends b{constructor(){super(...arguments),this.code="credentials"}}S.type="CredentialsSignin";class U extends w{}U.type="InvalidEndpoints";class R extends w{}R.type="InvalidCheck";class A extends w{}A.type="JWTSessionError";class L extends w{}L.type="MissingAdapter";class N extends w{}N.type="MissingAdapterMethods";class W extends w{}W.type="MissingAuthorize";class C extends w{}C.type="MissingSecret";class O extends b{}O.type="OAuthAccountNotLinked";class M extends b{}M.type="OAuthCallbackError";class B extends w{}B.type="OAuthProfileParseError";class I extends w{}I.type="SessionTokenError";class F extends b{}F.type="OAuthSignInError";class H extends b{}H.type="EmailSignInError";class X extends w{}X.type="SignOutError";class V extends w{}V.type="UnknownAction";class $ extends w{}$.type="UnsupportedStrategy";class D extends w{}D.type="InvalidProvider";class z extends w{}z.type="UntrustedHost";class J extends w{}J.type="Verification";class G extends b{}G.type="MissingCSRF";class q extends w{}q.type="DuplicateConditionalUI";class K extends w{}K.type="MissingWebAuthnAutocomplete";class Q extends w{}Q.type="WebAuthnVerificationError";class Y extends b{}Y.type="AccountNotLinked";class Z extends w{}Z.type="ExperimentalFeatureNotEnabled";class ee extends w{}async function et(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s="".concat(er(t),"/").concat(e);try{var o;let e={headers:{"Content-Type":"application/json",...(null==n?void 0:null===(o=n.headers)||void 0===o?void 0:o.cookie)?{cookie:n.headers.cookie}:{}}};(null==n?void 0:n.body)&&(e.body=JSON.stringify(n.body),e.method="POST");let t=await fetch(s,e),r=await t.json();if(!t.ok)throw r;return r}catch(e){return r.error(new ee(e.message,e)),null}}function er(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function en(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e="https://".concat(e));let r=new URL(e||t),n=("/"===r.pathname?t.pathname:r.pathname).replace(/\/$/,""),s="".concat(r.origin).concat(n);return{origin:r.origin,host:r.host,path:n,base:s,toString:()=>s}}var es=r(20357);let eo={baseUrl:en(null!==(s=es.env.NEXTAUTH_URL)&&void 0!==s?s:es.env.VERCEL_URL).origin,basePath:en(es.env.NEXTAUTH_URL).path,baseUrlServer:en(null!==(i=null!==(o=es.env.NEXTAUTH_URL_INTERNAL)&&void 0!==o?o:es.env.NEXTAUTH_URL)&&void 0!==i?i:es.env.VERCEL_URL).origin,basePathServer:en(null!==(a=es.env.NEXTAUTH_URL_INTERNAL)&&void 0!==a?a:es.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},ei=null,ea={debug:console.debug,error:console.error,warn:console.warn};async function el(){var e;let t=await et("csrf",eo,ea);return null!==(e=null==t?void 0:t.csrfToken)&&void 0!==e?e:""}async function ec(){return et("providers",eo,ea)}async function ed(e,t,r){var n,s,o;let{redirect:i=!0}=null!=t?t:{},a=null!==(s=null!==(n=null==t?void 0:t.redirectTo)&&void 0!==n?n:null==t?void 0:t.callbackUrl)&&void 0!==s?s:window.location.href,l=er(eo),c=await ec();if(!c){window.location.href="".concat(l,"/error");return}if(!e||!(e in c)){window.location.href="".concat(l,"/signin?").concat(new URLSearchParams({callbackUrl:a}));return}let d="credentials"===c[e].type,u="email"===c[e].type,h="".concat(l,"/").concat(d?"callback":"signin","/").concat(e),p=await el(),f=await fetch("".concat(h,"?").concat(new URLSearchParams(r)),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...t,csrfToken:p,callbackUrl:a})}),g=await f.json();if(i||!(d||u)){let e=null!==(o=g.url)&&void 0!==o?o:a;window.location.href=e,e.includes("#")&&window.location.reload();return}let x=new URL(g.url).searchParams.get("error"),v=new URL(g.url).searchParams.get("code");return f.ok&&await eo._getSession({event:"storage"}),{error:x,code:v,status:f.status,ok:f.ok,url:x?null:g.url}}async function eu(e){var t,r,n,s;let o=null!==(r=null!==(t=null==e?void 0:e.redirectTo)&&void 0!==t?t:null==e?void 0:e.callbackUrl)&&void 0!==r?r:window.location.href,i=er(eo),a=await el(),l=await fetch("".concat(i,"/signout"),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:a,callbackUrl:o})}),c=await l.json();if(("undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{}}:(null===ei&&(ei=new BroadcastChannel("next-auth")),ei)).postMessage({event:"session",data:{trigger:"signout"}}),null===(n=null==e?void 0:e.redirect)||void 0===n||n){let e=null!==(s=c.url)&&void 0!==s?s:o;window.location.href=e,e.includes("#")&&window.location.reload();return}return await eo._getSession({event:"storage"}),c}function eh(e){var t,r,n;let{session:s}=e;return(0,l.jsxs)(x.F,{placement:"bottom-start",children:[(0,l.jsx)(v.S,{children:(0,l.jsx)("div",{className:"text-lg rounded-lg bg-slate-200 px-2 py-0.5",children:null===(t=s.user)||void 0===t?void 0:t.name})}),(0,l.jsxs)(m.a,{"aria-label":"User Actions",variant:"flat",children:[(0,l.jsxs)(y.W,{className:"h-14 gap-2",children:[(0,l.jsx)("p",{className:"font-bold",children:null===(r=s.user)||void 0===r?void 0:r.name}),(0,l.jsx)("p",{className:"font-bold",children:null===(n=s.user)||void 0===n?void 0:n.email})]},"profile"),(0,l.jsx)(y.W,{children:"My Settings"},"settings"),(0,l.jsx)(y.W,{className:"text-danger",color:"danger",onPress:()=>{eu({redirectTo:"/"})},children:"Sign Out"},"logout")]})]})}null===(n=f.createContext)||void 0===n||n.call(g,void 0);var ep=r(64245),ef=r(16463);function eg(){let e=(0,ef.useRouter)();return(0,l.jsxs)(x.F,{children:[(0,l.jsx)(ep.k,{children:(0,l.jsx)(v.S,{children:"Word"})}),(0,l.jsxs)(m.a,{children:[(0,l.jsx)(y.W,{href:"/word/store",description:"select words in store",onPress:()=>e.push("/word/store"),children:"Word Store"},"word_store"),(0,l.jsx)(y.W,{href:"/word/original",description:"view original texts",onPress:()=>e.push("/word/original"),children:"Original"},"word_original"),(0,l.jsx)(y.W,{href:"/word/text",description:"view preprocessed texts",onPress:()=>e.push("/word/text"),children:"Text"},"word_text"),(0,l.jsx)(y.W,{href:"/word/sentence",description:"search sentences",onPress:()=>e.push("/word/sentence"),children:"Sentence"},"word_sentence")]})]})}function ex(){let e=(0,ef.useRouter)();return(0,l.jsxs)(x.F,{children:[(0,l.jsx)(ep.k,{children:(0,l.jsx)(v.S,{children:"Listening"})}),(0,l.jsxs)(m.a,{children:[(0,l.jsx)(y.W,{href:"/listening/dictation",description:"dictation",onPress:()=>e.push("/listening/dictation"),children:"dictation"},"listening_dictation"),(0,l.jsx)(y.W,{href:"/listening/subtitle/prepare",description:"clean up the styles and merge separated lines",onPress:()=>e.push("/listening/subtitle/prepare"),children:"prepare subtitle"},"listening_prepare"),(0,l.jsx)(y.W,{href:"/listening/subtitle/merge",description:"merge original and translated subtitles",onPress:()=>e.push("/listening/subtitle/merge"),children:"merge subtitles"},"listening_merge")]})]})}function ev(){let e=(0,ef.useRouter)();return(0,l.jsxs)(x.F,{children:[(0,l.jsx)(ep.k,{children:(0,l.jsx)(v.S,{children:"Blog"})}),(0,l.jsxs)(m.a,{children:[(0,l.jsx)(y.W,{href:"/blog",description:"all blogs",onPress:()=>e.push("/blog"),children:"Blog"},"blog_index"),(0,l.jsx)(y.W,{href:"/blog/add",description:"add new blog",onPress:()=>e.push("/blog/add"),children:"Add Blog"},"blog_add"),(0,l.jsx)(y.W,{href:"/blog/all_of_others",description:"blogs by others",onPress:()=>e.push("/blog/all_of_others"),children:"View Blogs By Others"},"blog_all_of_others"),(0,l.jsx)(y.W,{href:"/blog/all_of_another",description:"blogs by another",onPress:()=>e.push("/blog/all_of_another"),children:"View Blogs By Another"},"blog_all_of_another")]})]})}function em(){let e=(0,ef.useRouter)();return(0,l.jsxs)(x.F,{children:[(0,l.jsx)(ep.k,{children:(0,l.jsx)(v.S,{children:"Card"})}),(0,l.jsxs)(m.a,{children:[(0,l.jsx)(y.W,{href:"/card/tag",description:"manage tags",onPress:()=>e.push("/card/tag"),children:"Manage Tags"},"card_tag"),(0,l.jsx)(y.W,{href:"/card/add?edit=y",description:"add new card",onPress:()=>e.push("/card/add?edit=y"),children:"Add Card"},"card_add"),(0,l.jsx)(y.W,{href:"/card/my",description:"my cards",onPress:()=>e.push("/card/my"),children:"My Cards"},"card_my"),(0,l.jsx)(y.W,{href:"/card/market",description:"cards by others",onPress:()=>e.push("/card/market"),children:"Card Market"},"card_market"),(0,l.jsx)(y.W,{href:"/card/test",description:"learn cards",onPress:()=>e.push("/card/test"),children:"Card Test"},"test")]})]})}function ey(e){let{session:t}=e;return(0,l.jsxs)(c.R,{shouldHideOnScroll:!0,maxWidth:"full",className:"bg-gradient-to-b from-[#EBE1DA] to-[#FFF5EE]",classNames:{item:["text-sm","sm:text-xl","text-gray-500","uppercase","data-[active=true]:font-bold"]},children:[(0,l.jsx)(d.H,{className:"flex-grow-0 mr-1 sm:mr-4",children:(0,l.jsx)(p.default,{className:"font-bold text-sm sm:text-2xl text-red-500",href:"/",children:"ALS"})}),(0,l.jsxs)(u.U,{className:"flex gap-1 sm:gap-4",justify:"start",children:[(0,l.jsx)(eg,{}),(0,l.jsx)(em,{}),(0,l.jsx)(ex,{}),(0,l.jsx)(ev,{})]}),(0,l.jsx)(u.U,{justify:"end",children:(null==t?void 0:t.user)?(0,l.jsx)(eh,{session:t}):(0,l.jsx)(h.A,{variant:"bordered",className:"text-gray-500",onPress:()=>ed("wsva_oauth2"),children:"Login"})})]})}},44193:function(){},53054:function(){},32867:function(e,t,r){"use strict";r.d(t,{G:function(){return s}});var n=r(2265),s=(null==globalThis?void 0:globalThis.document)?n.useLayoutEffect:n.useEffect}},function(e){e.O(0,[9141,7143,4122,4459,396,231,5229,162,3999,2677,2971,7023,1744],function(){return e(e.s=13494)}),_N_E=e.O()}]);